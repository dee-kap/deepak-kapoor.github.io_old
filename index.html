
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Debug Release</title>
  <meta name="author" content="Deepak Kapoor">

  
  <meta name="description" content="Recently I moved my desktop from the home office to another room. Due to this move I lost access to wired LAN and had to install a wireless adapter &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://deepak-kapoor.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Debug Release" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<link href="/stylesheets/debrel.css" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="lgYJWL_s1AZLFOqJ9ejrQhbIkJcvzpsBZnUBGHcNk-w" />

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Debug Release</a></h1>
  
    <h2>Hacking notes of Deepak Kapoor</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:deepak-kapoor.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/31/linux-set-wireless-bit-rate-permanently-on-ubuntu-or-linux-mint/">Linux - Set Wireless Bit Rate Permanently on Ubuntu or Linux Mint</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-31T00:00:00+10:00" pubdate data-updated="true">Jul 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content">    <p>Recently I moved my desktop from the home office to another room. Due to this move I lost access to wired LAN and had to install a wireless adapter in my desktop. The adapter I am using is <a href="http://www.tp-link.com/en/products/details/?model=TL-WN781ND">TP-Link 150Mbps Wireless N PCI Express Adapter</a>. I noticed slow network speed ever since I connected to wireless on my desktop. I understand that there is a difference between wired and wireless connection, but I didn&#8217;t expect the wireless to be so slow. After some investigation, I found that the real culprit was the bit rate for my wireless adapter. I resolved the speed issue by setting the bit rate to 54Mbps. In this post I will show you how to do that.</p>
    <p>
        Check the current bit rate
    </p>
    
<pre class="prettyprint" lang="bash">
$ iwconfig

eth0      no wireless extensions.

lo        no wireless extensions.

wlan0     IEEE 802.11bgn  ESSID:"Gibberish"  
          Mode:Managed  Frequency:2.452 GHz  Access Point: 00:00:00:00:EE:EE   
          Bit Rate=11 Mb/s   Tx-Power=20 dBm   
          Retry  long limit:7   RTS thr:off   Fragment thr:off
          Power Management:off
          Link Quality=37/70  Signal level=-73 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:2  Invalid misc:73   Missed beacon:0</pre>

    <p>
        The output above shows that the bit rate is set to 11Mb/s. To change it, execute this command.
    </p>

    <pre class="prettyprint" lang="bash">$ sudo iwconfig wlan0 rate 54M</pre>

    <p>
        The command will set the bit rate to be 54Mbps. This can be verified by executing <code>iwconfig</code> again
    </p>
<pre class="prettyprint" lang="bash">
$ iwconfig

eth0      no wireless extensions.

lo        no wireless extensions.

wlan0     IEEE 802.11bgn  ESSID:"Gibberish"  
          Mode:Managed  Frequency:2.452 GHz  Access Point: 00:00:00:00:EE:EE   
          Bit Rate=54 Mb/s   Tx-Power=20 dBm   
          Retry  long limit:7   RTS thr:off   Fragment thr:off
          Power Management:off
          Link Quality=45/70  Signal level=-65 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:9  Invalid misc:120   Missed beacon:0</pre>

<p>Now the bit rate is 54Mbps.<p>

    <p>
        To make this change permanent, we have to create a script in <strong>/etc/network/if-up.d</strong> directory. All the scripts in this directory are executed when network interfaces are coming up. The script can be called anything. I decided to call it <i>speedup</i> but you can name it anything you like. Below is the script which changes bit rate for wireless adapter wlan0 to 54Mbps.
    </p>

<pre class="prettyprint" lang="bash">
#!/bin/bash -e

if [ "$IFACE" = "wlan0" ] 
then
  iwconfig wlan0 rate 54M
fi
</pre>
  <p>
        The -e option in the script instructs an exit if there is an error.
    </p>

    <p>
        Also make the script executable with this command
    </p>

<pre class="prettyprint" lang="bash">
$ sudo chmod 755 /etc/network/if-up.d/speedup</pre>
<p>
And that&#8217;s it. The bit rate from now will always be 54Mbps.
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/31/android-expandablelistview-tutorial/">Android - ExpandableListView Tutorial</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-31T00:00:00+10:00" pubdate data-updated="true">Jul 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction</h3>
<p>In this tutorial I will show you how to use <strong>ExpandableListView</strong> widget in your Android app. ExpandableListView widget is used to display hierarchical data which is two levels deep. If your hierarchy is more than two levels then you should look at options other than ExpandableListView. Now let&#8217;s get started.</p>

<p>We will develop an app which displays a bunch of countries with some of their cities. When a user taps the name of a country, the widget expands to show cities. Below is a screenshot of the app.</p>

<img style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/ExpandableList2.png" width="640" height="737" />

<h3>Setup</h3>
<p>First thing we need is a class to hold information about countries and cities. Let&#8217;s create a class called Country.</p>

<pre class="prettyprint" lang="java">
public class Country {
  private String Name;
  private List<String> Cities;

  public Country(String name, List<String> cities) {
    Name = name;
    Cities = cities;
  }

  public String getName() {
    return Name;
  }

  public List<String> getCities() {
    return Cities;
  }
}
</pre>

<p>We will later populate a list of countries in our activity.</p>

<h3>Adapter</h3>

<p>Like <a href="http://www.debugrelease.com/2013/06/19/android-listview-tutorial/">ListView</a> widget, ExpandableListView also works with an adapter. Android SDK provides a BaseExpandableListAdapter which we can use for our simple example. We
will provide a constructor which takes a Context and a List of countries as arguments.</p>

<pre class="prettyprint" lang="java">
public CountryAdapter(Context context, List<Country> countries) {
  this.countries = countries;
  inflater = LayoutInflater.from(context);
}
</pre>

<p>The constructor will set the private member countries which will be later used by overriden methods in our adapter. We will also set our private Inflater object by calling LayoutInflater.from() method.</p>

<p>Next come the overrides which do most of the work. Before we get into the methods, let&#8217;s understand how ExpandableListView works. The concept is very simple, you have groups which in our case are countries. Within each group you have children which are cities in our example. And it is just that simple. Let&#8217;s look at some of the methods we will override in our adapter.</p>

<pre class="prettyprint" lang="java">
@Override
public int getGroupCount() {
  return countries.size();
}
</pre>

<p><strong>getChildrenCount</strong> returns the count of children. This method accepts one argument which is groupPosition. What we return here is the count of children for a particular group. In our example we will return the count of cities for a country.</p>

<pre class="prettyprint" lang="java">
@Override
public int getChildrenCount(int groupPosition) {
  return countries.get(groupPosition).getCities().size();
}
</pre>

<p><strong>hasStableIds</strong> method is used to inform if the id values for our objects will change during the course of our app.</p>

<p><strong>getGroupView</strong> is used to return a view which will be drawn for each group item. In this case we are using the simple_expandable_list_item_1 layout which is a part of the SDK.</p>

<pre class="prettyprint" lang="java">
@Override
public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {
  if (convertView == null) {
    convertView = inflater.inflate(R.layout.simple_expandable_list_item_1, parent, false);
  }

  ((TextView) convertView).setText(getGroup(groupPosition).toString());
  return convertView;
}
</pre>

<p>Similarly <strong>getChildView</strong> returns the view used by each child item.</p>

<p>Some of the other methods such as getGroup, getChild, getGroupId and
getChildId are fairly intuitive.</p>

<p>Below is the entire code for our adapter.</p>

<pre class="prettyprint" lang="java">
package com.debugrelease.android.ExpandableListViewTutorial;

import android.R;
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseExpandableListAdapter;
import android.widget.TextView;

import java.util.List;

public class CountryAdapter extends BaseExpandableListAdapter {
  private List<Country> countries;
  private LayoutInflater inflater;

  public CountryAdapter(Context context, List<Country> countries) {
    this.countries = countries;
    inflater = LayoutInflater.from(context);
  }

  @Override
  public int getGroupCount() {
    return countries.size();
  }

  @Override
  public int getChildrenCount(int groupPosition) {
    return countries.get(groupPosition).getCities().size();
  }

  @Override
  public Object getGroup(int groupPosition) {
    return countries.get(groupPosition).getName();
  }

  @Override
  public Object getChild(int groupPosition, int childPosition) {
    return countries.get(groupPosition).getCities().get(childPosition);
  }

  @Override
  public long getGroupId(int groupPosition) {
    return groupPosition;
  }

  @Override
  public long getChildId(int groupPosition, int childPosition) {
    return childPosition;
  }

  @Override
  public boolean hasStableIds() {
    return true;
  }

  @Override
  public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {
    if (convertView == null) {
      convertView = inflater.inflate(R.layout.simple_expandable_list_item_1, parent, false);
    }

    ((TextView) convertView).setText(getGroup(groupPosition).toString());
    return convertView;
  }

  @Override
  public View getChildView(int groupPosition, int childPosition, boolean isLastChild, View convertView, ViewGroup parent) {
    if(convertView == null) {
      convertView = inflater.inflate(R.layout.simple_list_item_1, parent, false);
    }

    ((TextView)convertView).setText(getChild(groupPosition,childPosition).toString());
    return convertView;
  }

  @Override
  public boolean isChildSelectable(int i, int i2) {
    return false;
  }
}
</pre>

<h3>Main Activity</h3>
<p>The layout for our MainActivity will include an ExpandableListView within a <a href="http://www.debugrelease.com/2013/06/11/android-linear-layout-example/">LinearLayout</a>.</p>

<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
  package=&quot;com.debugrelease.android.ExpandableListViewTutorial&quot;
  android:versionCode=&quot;1&quot;
  android:versionName=&quot;1.0&quot;&gt;
    &lt;uses-sdk android:minSdkVersion=&quot;15&quot;/&gt;
    &lt;application android:label=&quot;@string/app_name&quot; android:icon=&quot;@drawable/ic_launcher&quot;&gt;
        &lt;activity android:name=&quot;MainActivity&quot;
          android:label=&quot;@string/app_name&quot;&gt;
    &lt;intent-filter&gt;
        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;
        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;
    &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</pre>

<p>In our MainActivity class we will tie everything together. In this class we will load up a list of countries and in the <strong>onCreate</strong> method, we will set the adapter for our ExpandableListView. Below is the code for MainActivity.java</p>

<pre class="prettyprint" lang="java">
package com.debugrelease.android.ExpandableListViewTutorial;

import android.app.Activity;
import android.os.Bundle;
import android.widget.ExpandableListView;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class MainActivity extends Activity {
  private static List<Country> Countries;
  private ExpandableListView expandableListView;
  private CountryAdapter adapter;

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    LoadCountries();
    expandableListView = (ExpandableListView) findViewById(R.id.expandableListView);
    adapter = new CountryAdapter(this, Countries);
    expandableListView.setAdapter(adapter);
  }

  private void LoadCountries() {
    Countries = new ArrayList<Country>();

    ArrayList<String> citiesAustralia = new ArrayList<String>(
        Arrays.asList("Brisbane", "Hobart", "Melbourne", "Sydney"));
    Countries.add(new Country("Australia", citiesAustralia));

    ArrayList<String> citiesChina = new ArrayList<String>(
        Arrays.asList("Beijing", "Chuzhou", "Dongguan", "Shangzhou"));
    Countries.add(new Country("China", citiesChina));

    ArrayList<String> citiesIndia = new ArrayList<String>(
        Arrays.asList("Bombay", "Calcutta", "Delhi", "Madras"));
    Countries.add(new Country("India", citiesIndia));

    ArrayList<String> citiesNewZealand = new ArrayList<String>(
        Arrays.asList("Auckland", "Christchurch", "Wellington"));
    Countries.add(new Country("New Zealand", citiesNewZealand));

    ArrayList<String> citiesRussia = new ArrayList<String>(
        Arrays.asList("Moscow", "Kursk", "Novosibirsk", "Saint Petersburg"));
    Countries.add(new Country("Russia", citiesRussia));
  }
}

</pre>

<h3>Conclusion</h3>
<p>Like most of the other widgets, ExpandableListView is also very simple to work with. In this tutorial we saw an example which displays two levels deep hierarchical data of countries and cities using ExpandableListView. I hope you enjoyed it. Please leave a comment if you&#8217;d like to discuss something or have any questions.</p>
<p>The code for this tutorial can be found in my <a href="http://bit.ly/debrel-android-samples">Github repository</a>. Within the repository look for ExpandableListViewTutorial folder.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/28/linux-install-handbrake-on-linux-mint-15/">Linux - Install Handbrake on Linux Mint 15</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-28T00:00:00+10:00" pubdate data-updated="true">Jul 28<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p> <a href="http://handbrake.fr/">Handbrake</a>&nbsp;is a popular open source video transcoder software. It can be used to rip DVDs and does a lot more. Handbrake is packed with features which let you control many details of your operations. </p> <p>Below are the commands which will install Handbrake on Linux Mint. Enjoy.</p> 
<pre class="prettyprint" lang="bash">
sudo add-apt-repository ppa:stebbins/handbrake-releases 
sudo apt-get update 
sudo apt-get install handbrake-gtk</pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/26/linux-virtualbox-windows-host-share-in-ubuntu-guest/">Linux VirtualBox - Windows Host Share in Ubuntu Guest</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-26T00:00:00+10:00" pubdate data-updated="true">Jul 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post I will show you how to mount and access Windows host shares on your Ubuntu guest OS running within VirtualBox.</p> 

<p>First thing you need to do is install VirtualBox Guest Additions.</p>

<p>Attach VBoxGuestAdditions.iso in machine settings on VirtualBox. On a 64bit machine the iso file can be found at C:\Program Files\Oracle\VirtualBox.</p>

<a href="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/vboxguestadditions.png"><img src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/vboxguestadditions.png" alt="" width="628" height="442" class="alignleft size-full wp-image-2083" /></a>

<p>Then mount the iso in Ubuntu guest.</p>

<pre class="prettyprint" lang="bash">deepak@ubuntu:~$ sudo mount /dev/cdrom /media/cdrom</pre>

<p>You can now access the iso within Ubuntu. Run the following command to install Guest Additions.</p>

<pre class="prettyprint" lang="bash">deepak@ubuntu:~$ sudo ./VBoxLinuxAdditions.run</pre>

<p>This will install Guest Additions. A new group called vboxsf will also be created. Verify that the group exists by running this command.</p>

<pre class="prettyprint" lang="bash">deepak@ubuntu:~$ cat /etc/group | grep vboxsf

vboxsf:x:1005:</pre>

<p>Next go to machine settings and click on Shared Folders. Add a host folder you&#8217;d like to share. In the screenshot below I have shared temp folder on my D drive.</p>

<a href="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/vboxsharefolder.png"><img src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/vboxsharefolder.png" alt="" width="626" height="440" class="alignleft size-full wp-image-2084" /></a>

<p>The shared folder is now accessible within Ubuntu. Just mount it to a directory.</p>

<pre class="prettyprint" lang="bash">deepak@ubuntu:~$ makedir /media/host-share
deepak@ubuntu:~$ sudo mount -t vboxsf temp /media/host-share</pre>

<p>The <code>-t</code> option is used to specify a file system which in this case is <strong>vboxsf</strong>.</p>

<p>You can now access host temp folder within Ubuntu which has been mounted at /media/host-share.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/25/linux-setgid-on-directory-and-share-directory-with-users/">Linux - Setgid on Directory and Share Directory With Users</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-25T00:00:00+10:00" pubdate data-updated="true">Jul 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I came across a scenario which warranted using <code>setgid</code>. The requirement was to allow multiple users to create files and read files in a directory. I also wanted to ensure that this requirement can be easily met for any future users. I will explain what I did with a simple example.</p>
<p>To make it simple we will work with two users and one directory. The directory will be called <strong>shareddocs</strong>. As there are multiple users involved, it is not a good idea to create it in home but some place like <strong>/usr/share</strong>. Only a user with superuser privileges can create a directory in /usr/share, so we will need to use <code>sudo</code>. On my machine I am the master of unixverse and I have permissions to sudo.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo mkdir /usr/share/shareddocs</pre>

<p>Two users in this example are <strong>deepak</strong> and <strong>chewbacca</strong>. deepak already exists and we need to create chewbacca. If you are trying this at home then replace deepak with whatever your username is. Just remember that you will need to use sudo for some commands so make sure that the account you are using has appropriate permissions.</p>

<p>Let&#8217;s create chewbacca and set chewbacca&#8217;s password.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo useradd chewbacca
deepak@ubuntu:~$ sudo passwd chewbacca</pre>

<p>Let&#8217;s also create a group called warriors.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo groupadd warriors</pre>

<p>Next we need to make deepak and chewbacca members of warrirors group.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo usermod -a -G warriors deepak
deepak@ubuntu:~$ sudo usermod -a -G warriors chewbacca</pre>

<p>To see groups a user belongs to, we can run this command.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ groups chewbacca</pre>

<p>And now the fun starts. Logged in as deepak, let&#8217;s create a file in /usr/share/shareddocs</p>

<pre class="prettyprint lang-bash">
deepak@ubuntu:~$ sudo touch /usr/share/shareddocs/story1.txt</pre>

<p>View permissions for /usr/share/shareddocs</p>

<pre class="prettyprint lang-bash">
deepak@ubuntu:~$ ls -ld /usr/share/shareddocs/

drwxr-xr-x 2 root root 4096 Jul 24 22:43 /usr/share/shareddocs/</pre>

<p>Notice how both owner and group are root for /usr/share/sharedocs directory. Now if we try to create a file as chewbacca we will get an error.</p>

<pre class="prettyprint lang-bash">
chewbacca@ubuntu:~$ touch /usr/share/shareddocs/story2.txt
touch: cannot touch 'story2.txt': Permission denied</pre>

<p>This is because only root has read and write permissions to the directory. We can fix the situation by first giving the group ownership to warriors group we created earlier.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo chown :warriors /usr/share/shareddocs/</pre>

<p>Now if we look at the permissions, we see that our directory is owned by warriors group.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ ls -ld /usr/share/shareddocs/

drwxr-xr-x 2 root warriors 4096 Jul 24 22:43 /usr/share/shareddocs/</pre>

<p>So can chewbacca create a file now? Well not yet. We still need to enable write permission for the group.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo chmod 775 /usr/share/shareddocs/</pre>

<p>By executing the above command we have given read, write and execute to owner and the group.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ ls -ld /usr/share/shareddocs/

drwxrwxr-x 2 root warriors 4096 Jul 24 22:43 /usr/share/shareddocs/</pre>

chewbacca can now create files in /usr/share/shareddocs/

<pre class="prettyprint lang-bash">chewbacca@ubuntu:~$ touch story2.txt</pre>

<p>One problem still remains. Files created by chewbacca are owned by group chewbacca. We want all files within the directory to be owned by <strong>warriors</strong> group. This is where <code>setgid</code> comes in. Finally! you say. Let&#8217;s run the following command.</p>

<pre class="prettyprint lang-bash">deepak@ubuntu:~$ sudo chmod g+s /usr/share/shareddocs</pre>

<p>From here on any files created by either deepak or chewbacca will be owned by warriors group. Now if deepak created story3.txt and chewbacca created story4.txt, they will both be owned by warriors group.</p>
<pre class="prettyprint lang-bash">
-rw-r--r-- 1 root root 16 Jul 25 15:26 story1.txt
-rw-rw-r-- 1 chewbacca chewbacca 0 Jul 25 15:36 story2.txt
-rw-rw-r-- 1 deepak warriors 0 Jul 25 15:42 story3.txt
-rw-rw-r-- 1 chewbacca warriors 0 Jul 25 15:44 story4.txt</pre>

<p>Note that two files we created earlier are still not owned by warriors. They cannot be shared and we should just delete them.</p>

<p>Let&#8217;s talk a bit more about <code>setgid</code>. The command sets group id bits. This means that any new files or directories created within the directory will inherit the same group as containing directory.</p>

<p>To remove the group id bit we can use <code>g-s</code>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/03/linux-number-of-files-in-directory/">Linux - Number of Files in Directory</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-03T00:00:00+10:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The command to get the number of files in a directory is. <p>
<pre class="prettyprint">ls –l | grep ^- | wc –l</pre>
<p>If you are here just to get the command then no need to read further. However if you&#8217;d like to understand a bit more then read on.</p>
<p>At home I have a media centre which runs XMBC on Ubuntu. I was in mood for doing an audit on the content I have and I came across a need to find the number of files in a directory. Of course being a Linux person my first preference is to do things from command line. Hence this post. </p>
<p>In this post I will show you how to get a count of files in a directory. You can pick any directory you like. /var/log is always a good place to find some files you can mess with. Or you can create a bunch of files to follow along. This way our numbers will match and will be less confusing. Execute following commands. These will create some directories and a bunch of empty files.</p>
 
<pre class="prettyprint lang-bash">mkdir testdir
mkdir testdir/dir1
touch testdir/hello
touch testdir/goodmorning
touch testdir/goodafternoon
touch testdir/bye
</pre> 

<p>Running a simple <code>ls -la</code> command gives us the list of all files and directories</p>
<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/image.png" width="579" height="127" /></p>
<p>A helpful option if you want to see the files listed per line is <code>-1</code>. If we run <code>ls -1</code> we get the following output.</p>
<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/07/image1.png" width="572" height="111" /></p>
<p>With the output above we can simply count the number of lines and we have the count of files. Counting lines can be done by using <code>wc -l</code> command. The <code>-l</code> option prints the count of newlines. Let’s see what happens if we execute this command.</p>
<pre class="prettyprint">ls –1 | wc –l</pre>
<p>The result is <strong>5</strong>. </p>
<p>This is not accurate. If you are working with the files we created earlier in this post then you will see that we have 4 files and one directory. We are only interested in the count of files. This can easily be achieved by using some simple <code>grep</code> magic and rather than using <code>-1</code> option on <code>ls</code> command, we will use <code>-l</code> option. Command below does the job.</p>
<pre class="prettyprint">ls –l | grep ^- | wc –l</pre>
<p>The command above deserves some love. What we are doing is first get a list of all files and directories then we <code>grep</code> them to filter out only files. In the output of <code>ls -l</code>, files start with <strong>–</strong> and directories start with <strong>d</strong>. We finally use the <code>wc</code> command and use the option which prints the count of newlines. And there you have it, the count of files in a directory.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/06/24/android-listview-tutorial-with-images-and-text/">Android - ListView Tutorial With Images and Text</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-24T00:00:00+10:00" pubdate data-updated="true">Jun 24<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction</h3>
<p>In this post I will show you how to use a ListView widget to display both images and text. This is a common pattern used by many apps. If you are not familiar with ListView and would like a basic tutorial then please visit <a href="http://www.debugrelease.com/2013/06/19/android-listview-tutorial/">this link</a>.</p>
<p>For this tutorial, we will build an app which displays a bunch of items along with an image. I will walk you through the process which will involve creating custom layouts for each item in ListView and creating a custom adapter.</p>
<p>Here is a screenshot of what we will build.</p>
<img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image7.png" width="480" height="756" /> 
<h3>Project structure</h3>
<p>First we will create an Android Application Module in IntelliJ or an Android application if you are using Eclipse. I use <a href="http://www.jetbrains.com/idea/free_java_ide.html">IntelliJ Community Edition</a> for my Android development and I suggest that you should also have a look. </p>
<p>I will name the package com.debugrelease.android.listviewwithimagesandtext</p>
<p><img title="SNAGHTML5aec1f5" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="SNAGHTML5aec1f5" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/SNAGHTML5aec1f5.png" width="635" height="204" /></p>
<p>Other than the name of package and activity name I have not made any changes. </p>
<h3>Items</h3>
<p>We need some items which we will display in the ListView. As we are also displaying images along with text, we will need some images. A good place to get some icons is <a href="http://www.androidicons.com">www.androidicons.com</a>. They also have some icons available for free and those will be enough for this tutorial. Of course you can also use any other images you like. </p>
<p>We will copy these images into the assets folder. You can also find the images in the <a href="https://github.com/deepak-kapoor/debug-release-android-samples">Github repository</a>. The project is located in ListViewWithImagesAndText folder. </p>
<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image8.png" width="460" height="258" /></p>
<h3>Model</h3>
<p>We will create a new class which will act as the model for our list items. Let’s call this class Item. Here is the code.</p>
 
<pre class="prettyprint lang-java" >package com.debugrelease.android.listviewwithimagesandtext;

public class Item {

    public int Id;
    public String IconFile;
    public String Name;

    public Item(int id, String iconFile, String name) {

        Id = id;
        IconFile = iconFile;
        Name = name;

    }

}
</pre> 

<p>We will also create a Model class which will provide us with an ArrayList of our items. Model class also has a method GetById which is used by the adapter. Here is the code for Model class.</p>
 
<pre class="prettyprint lang-java" >package com.debugrelease.android.listviewwithimagesandtext;

import java.util.ArrayList;

public class Model {

    public static ArrayList&lt;Item&gt; Items;

    public static void LoadModel() {

        Items = new ArrayList&lt;Item&gt;();
        Items.add(new Item(1, "ic_action_alarm_2.png", "Alarm"));
        Items.add(new Item(2, "ic_action_calculator.png", "Calculator"));
        Items.add(new Item(3, "ic_action_google_play.png", "Play"));
        Items.add(new Item(4, "ic_action_line_chart.png", "Line Chart"));
        Items.add(new Item(5, "ic_action_location_2.png", "Location"));
        Items.add(new Item(6, "ic_action_news.png", "News"));
        Items.add(new Item(7, "ic_action_stamp.png", "Stamp"));

    }

    public static Item GetbyId(int id){

        for(Item item : Items) {
            if (item.Id == id) {
                return item;
            }
        }
        return null;
    }

}
</pre> 

<h3>Layouts</h3>
<p>In the main.xml which is the layout used by MainActivity, we will place a ListView widget and set it’s layout_width and layout_height to wrap_content. ListView will also have a id set because we’ll need to reference it in code. Here are contents of main.xml</p>
 
<pre class="prettyprint" >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"&gt;

    &lt;ListView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/listView" /&gt;

&lt;/LinearLayout&gt;

</pre> 

<p>Now this is important. If we were just displaying text then there would be no need to create a custom layout, we could just use one from sdk resources. But since we are displaying more than text, we need to create a new layout which will be the template for each item. Let’s call it row.xml</p>
 
<pre class="prettyprint" >&lt;?xml version="1.0" encoding="utf-8"?&gt;

&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:gravity="center_vertical"
                android:minHeight="64dp"&gt;

    &lt;ImageView
            android:id="@+id/imageView"
            android:layout_width="32dp"
            android:layout_height="32dp"
            android:layout_alignParentLeft="true"
            android:layout_marginLeft="9dp"
            android:layout_alignParentTop="true"/&gt;
    &lt;TextView
            android:layout_alignBottom="@+id/imageView"
            android:layout_width="97dp"
            android:layout_height="32dp"
            android:id="@+id/textView"
            android:layout_alignParentLeft="true"
            android:layout_marginLeft="66dp"
            android:layout_alignParentRight="true"
            android:gravity="center_vertical"/&gt;

&lt;/RelativeLayout&gt;</pre> 

<p>See how I have placed an ImageView and a TextView within RelativeLayout. For each item one of these will be used.</p>
<h3>Adapter</h3>
<p>A ListView needs an adapter to display items. And because of our slightly custom requriement of displaying images and text, we will create our own custom adapter. This can be done by creating a class which extends ArrayAdatpter&lt;String&gt;. In this class <strong>getView</strong> method is of interest to us. Within this method we will inflate the row layout we created earlier. We will then write some code to populate both ImageView and TextView. Below is the full code for our adapter.</p>
 
<pre class="prettyprint lang-java" >package com.debugrelease.android.listviewwithimagesandtext;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.TextView;

import java.io.IOException;
import java.io.InputStream;

public class ItemAdapter extends ArrayAdapter&lt;String&gt; {

    private final Context context;
    private final String[] Ids;
    private final int rowResourceId;

    public ItemAdapter(Context context, int textViewResourceId, String[] objects) {

        super(context, textViewResourceId, objects);

        this.context = context;
        this.Ids = objects;
        this.rowResourceId = textViewResourceId;

    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        View rowView = inflater.inflate(rowResourceId, parent, false);
        ImageView imageView = (ImageView) rowView.findViewById(R.id.imageView);
        TextView textView = (TextView) rowView.findViewById(R.id.textView);

        int id = Integer.parseInt(Ids[position]);
        String imageFile = Model.GetbyId(id).IconFile;

        textView.setText(Model.GetbyId(id).Name);
        // get input stream
        InputStream ims = null;
        try {
            ims = context.getAssets().open(imageFile);
        } catch (IOException e) {
            e.printStackTrace();
        }
        // load image as Drawable
        Drawable d = Drawable.createFromStream(ims, null);
        // set image to ImageView
        imageView.setImageDrawable(d);
        return rowView;

    }

}
</pre> 

<p>What’s left now is to load the Model by calling Model.LoadModel static method, finding the ListView and assigning it the adapter. This is done in MainActivity class within overridden onCreate method. </p>
 
<pre class="prettyprint lang-java" >package com.debugrelease.android.listviewwithimagesandtext;

import android.app.Activity;
import android.os.Bundle;
import android.widget.ListView;

public class MainActivity extends Activity {

    ListView listView;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Model.LoadModel();
        listView = (ListView) findViewById(R.id.listView);
        String[] ids = new String[Model.Items.size()];
        for (int i= 0; i &lt; ids.length; i++){

            ids[i] = Integer.toString(i+1);
        }

        ItemAdapter adapter = new ItemAdapter(this,R.layout.row, ids);
        listView.setAdapter(adapter);

    }
}
</pre> 

<h3>Conclusion</h3>
<p>In conclusion, displaying image and text in each cell of ListView is pretty simple. All you need to do is define your preferred layout for each cell, and create an adapter which will load that view for each position. </p>
<p>The code for this post and all my Android related posts is in a <a href="https://github.com/deepak-kapoor/debug-release-android-samples">Github repository</a>. For this tutorial look for ListViewWithImagesAndText folder within the repository.</p>
<p>Icons used in this post and the code are from <a href="http://www.androidicons.com/">androidicons.com</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/06/19/android-listview-tutorial/">Android - ListView Tutorial</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-19T00:00:00+10:00" pubdate data-updated="true">Jun 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post I will talk about one of the most useful and commonly used widgets in Android. That widget is ListView. Whenever there is a list of things to be presented for example tweets from Twitter or entries from a RSS feed, ListView comes in handy.</p>
<h3>Setting up the project</h3>
<p>My preferred IDE for Android development is <a href="http://www.jetbrains.com/idea/free_java_ide.html">IntelliJ Community Edition</a> and I will use it for this tutorial. If you have not used it then you should have a look. It beats the bytes out of Eclipse any day.</p>
<p>I will create a project of type Application Module and call it ListViewTutorial. </p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" title="AndroidListViewTutorial1.gif" src="http://www.deepakkapoor.net/wp-content/uploads/2013/06/AndroidListViewTutorial1.gif" alt="AndroidListViewTutorial1" width="600" height="580" border="0" /></p>
<p> </p>
<h3>Displaying Lakes</h3>
<p>The app written in this tutorial will display names of some of the biggest lakes in the world. The names will be displayed in a ListView widget.</p>
<p>This is what our final app will look like</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" title="AndroidListViewTutorial3.gif" src="http://www.deepakkapoor.net/wp-content/uploads/2013/06/AndroidListViewTutorial3.gif" alt="AndroidListViewTutorial3" width="518" height="600" border="0" /></p>
<p> </p>
<h3>Creating Layout</h3>
<p>In the layout I will use the ListView widget. ListView is part of Android framework and it can be used straight out of the box. I will place the ListView inside my LinearLayout. Along with layout_width, layout_height and layout_gravity, I will also assign an id to my ListView so that I can reference it in code and hook it up with my list of lakes.</p>
 
<pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"&gt;
    &lt;ListView
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:id="@+id/listView"
            android:layout_gravity="center"/&gt;
&lt;/LinearLayout&gt;</pre> 

<h3>Activity</h3>
<p>The app only has one activity which I called MainActivity. Within this activity I will write code which will tie it all together. First of all I will create an array of lakes.</p>

<pre class="prettyprint lang-java" >private static final String[] lakes = {
            "Superior",
            "Victoria",
            "Huron",
            "Michigan",
            "Tanganyika",
            "Baikal",
            "Great Bear Lake",
            "Great Slave Lake",
            "Erie",
            "Winnipeg",
            "Ontario",
            "Balkhash",
            "Ladoga",
            "Vostok",
            "Onega",
            "Titicaca",
            "Nicaragua",
            "Athabasca" };</pre> 

<p>Next in the overridden onCreate method I will get a reference to the ListView I created earlier in my layout.</p>
<pre class="prettyprint lang-java" >ListView listView = (ListView)findViewById(R.id.listView);</pre>
<h4>Adapter</h4>
<p>To populate a ListView widget I need an Adapter. There are a few adapters available in Android framework. These are ArrayAdapter, CursorAdapter, ResourceCusrorAdapter, SimpleAdapter and SimpleCursorAdapter. For my app ArrayAdapter is adequate. </p>
<p>I will create an instance of ArrayAdaper and pass some parameters into the constructor.</p>
 
<pre class="prettyprint lang-java" >
ArrayAdapter&lt;String&gt; adapter =
    new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1, lakes);
</pre> 

<p>Let&#8217;s look the parameters I have passed in. The first parameter is Context which in this case is the Activity I am working with, so I pass this. Second parameter is textViewResourceId. This is the view which is used to render each cell item of the ListView. You can look at the xml for this resource by browsing res directory in the sdk. This is what the xml for simple_list_item_1 looks like:</p>

 
<pre class="prettyprint lang-xml" >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- Copyright (C) 2006 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at
  
          http://www.apache.org/licenses/LICENSE-2.0
  
     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
--&gt;

&lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/text1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearanceListItemSmall"
    android:gravity="center_vertical"
    android:paddingStart="?android:attr/listPreferredItemPaddingStart"
    android:paddingEnd="?android:attr/listPreferredItemPaddingEnd"
    android:minHeight="?android:attr/listPreferredItemHeightSmall"
/&gt;</pre> 


<p>The last parameter is a generic array of objects which are to be displayed in ListView. Each cell will display what it gets from calling toString() method on an item within the array. I have assigned as String array of lakes for this paramet</p>
<h3>The end</h3>
<p>And that&#8217;s about it. I now have a ListView which displays a list of some of the largest lakes in the world. Here is the full code for MainActivity class.</p>
 
<pre class="prettyprint lang-java" >package com.debugrelease.android.listviewtutorial;

import android.app.Activity;
import android.os.Bundle;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class MainActivity extends Activity {

    private static final String[] lakes = {
            "Superior",
            "Victoria",
            "Huron",
            "Michigan",
            "Tanganyika",
            "Baikal",
            "Great Bear Lake",
            "Great Slave Lake",
            "Erie",
            "Winnipeg",
            "Ontario",
            "Balkhash",
            "Ladoga",
            "Vostok",
            "Onega",
            "Titicaca",
            "Nicaragua",
            "Athabasca" };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        ListView listView = (ListView)findViewById(R.id.listView);
        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1, lakes);
        listView.setAdapter(adapter);

    }
}</pre> 

<p>You can find the code for this post in my <a href="https://github.com/deepak-kapoor/debug-release-android-samples">Github repository</a> where I keep all my Android samples. Within the repository, look for the folder named ListViewTutorial.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/06/11/android-linear-layout-example/">Android - Linear Layout Example</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-11T00:00:00+10:00" pubdate data-updated="true">Jun 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In Android Layouts are containers in which you place your widgets like buttons, images, lists etc. Two of the most useful layouts are LinearLayout and RelativeLayout. In this post I will talk about LinearLayout.</p>  <p>LinearLayout extends android.view.ViewGroup which extends android.view.View object. As the name suggests, LinearLayout is used to place widgets in a linear manner. By default widgets are stacked vertically as shown in the image below.</p>  <p><img title="verticalLayout" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="verticalLayout" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/verticalLayout.gif" width="245" height="435" /></p>  <p>Here is another example of an app running in the emulator.</p>  <p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image.png" width="479" height="215" /></p>  <p>To get this layout you can use the following xml</p>  <pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
              android:orientation=&quot;vertical&quot;
              android:layout_width=&quot;fill_parent&quot;
              android:layout_height=&quot;fill_parent&quot;&gt;
    &lt;TextView
            android:layout_width=&quot;fill_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;Hello World, MyActivity&quot;
            /&gt;
    &lt;TextView
            android:layout_width=&quot;fill_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;New Text&quot;
            android:id=&quot;@+id/textView&quot; android:layout_gravity=&quot;center&quot;/&gt;
    &lt;Button
            android:layout_width=&quot;fill_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;New Button&quot;
            android:id=&quot;@+id/button&quot; android:layout_gravity=&quot;center&quot;/&gt;
    &lt;WebView
            android:layout_width=&quot;fill_parent&quot;
            android:layout_height=&quot;fill_parent&quot;
            android:id=&quot;@+id/webView&quot;/&gt;
&lt;/LinearLayout&gt;</pre>

<p>Other than stacking widgets vertically, LinearLayout can also stack them horizontally. All you need to do is change android:orientation to be horizontal <code>android:orientation=”horizontal”</code></p>

<p>Let’s look at some slightly advance concepts. First one is the fill model. In the code above you will notice that android:layout_width and android:layout_height are either set to fill_parent or wrap_content. These values are very useful when placing widgets in a LinearLayout or for that matter any kind of layout. </p>

<p>I will use this new example to explain few concepts. In this layout I have three TextView objects placed within a LinearLayout. To make them standout I have added some color. Here is the code.</p>

 
<pre class="prettyprint" >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent" &gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 1"
            android:background="#bfffd9"
            android:textColor="#000000"/&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 2"
            android:background="#ffd4b4"
            android:textColor="#000000"/&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 3"
            android:background="#a9d2ff"
            android:textColor="#000000"/&gt;
&lt;/LinearLayout&gt;
</pre> 


<p>The view rendered by the code above will be</p>

<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image1.png" width="240" height="320" /></p>

<p>Let’s play a bit with the height property. I will set android:LayoutHeight of second TextView to be fill_parent. Doing so results in this</p>

<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image2.png" width="240" height="320" /></p>

<p>What happened to the third TextView? Where did it go? Technically it is still there but you cannot see it. The way this works is that the layout system places TextView 1, it then puts the second TextView if there is space available and then the third one if there is space available. Because the second TextView has taken up the remaing space, there is no space left for third TextView. </p>

<p>What if I change Layout_Height of second TextView to wrap_content and for the third TextView make it fill_parent. Here is the full code.</p>

 
<pre class="prettyprint" >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent" &gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 1"
            android:background="#bfffd9"
            android:textColor="#000000"/&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 2"
            android:background="#ffd4b4"
            android:textColor="#000000"/&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:text="Text View 3"
            android:background="#a9d2ff"
            android:textColor="#000000"/&gt;
&lt;/LinearLayout&gt;
</pre> 


<p>This will give us</p>

<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image3.png" width="240" height="320" /></p>

<p>There is another important concept when it comes to placing widgets and that is “Weight”. Let’s look at the effect of weight on our TextViews. By default all widgets placed inside LinearLayout have the same weight i.e. zero. Let’s see what happens if we increase the weight of our first TextView to be 1.</p>

 
<pre class="prettyprint" >&lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 1"
            android:background="#bfffd9"
            android:textColor="#000000"
            android:layout_weight="1" /&gt;</pre> 


<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image4.png" width="240" height="320" /></p>

<p>See how first TextView has pushed the other two down. One way to look at this is that first TextView is heavier (we are talking about weight here) than the other two and so takes up more room.</p>

<p>What if we assign the same value for layout_weight to all our TextViews.</p>

 
<pre class="prettyprint" >&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent" &gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 1"
            android:background="#bfffd9"
            android:textColor="#000000"
            android:layout_weight="1"
            /&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 2"
            android:background="#ffd4b4"
            android:textColor="#000000"
            android:layout_weight="1"/&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 3"
            android:background="#a9d2ff"
            android:textColor="#000000"
            android:layout_weight="1"/&gt;
&lt;/LinearLayout&gt;
</pre> 


<p>We get this</p>

<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image5.png" width="240" height="320" /></p>

<p>All three TextViews have the same height. Do you see the power of layout_weight here? One more example where we want the first and second TextView to take up half of the space combined and let the third one take the other half. This can be done by setting the layout_weight of our third TextView to be 2.</p>

 
<pre class="prettyprint" >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent" &gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 1"
            android:background="#bfffd9"
            android:textColor="#000000"
            android:layout_weight="1"
            /&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 2"
            android:background="#ffd4b4"
            android:textColor="#000000"
            android:layout_weight="1"/&gt;

    &lt;TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:text="Text View 3"
            android:background="#a9d2ff"
            android:textColor="#000000"
            android:layout_weight="2"/&gt;
&lt;/LinearLayout&gt;
</pre> 


<p><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2013/06/image6.png" width="240" height="320" /></p>

<p>Other than layout_width, layout_height and layout_weight, there are many other attributes available which have significant affect on widget’s placement within a layout container. I will leave them for another day. </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/06/02/ubuntu-font-and-zenburn-i-like-to-make-my-code-look-good/">Ubuntu Font and Zenburn - I Like to Make My Code Look Good</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-02T00:00:00+10:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have been asked many times about the font I use in Visual Studio. Colleagues who visit my cubicle often admire how I have setup Visual Studio or my text editor. The code just looks better on my machine than it does on theirs :) The answer lies in the font and color scheme.</p>

<p>I use Ubuntu Font for all my code editors. This includes Visual Studio, Sublime Text and WebStorm. Earlier I was hooked to Consolas but ever since I discovered Ubuntu Font, I cannot tolerate anything else.</p>

<p>Changing font in Visual Studio can be done by going to Tools &#8211;&gt; Options. Then go to Environment &#8211;&gt; Fonts and colors<p>

<p>In Sublime Text go to Preferences &#8211;&gt; Settings-User and add the following text between curly braces.</p>
 
<pre class="prettyprint lang-bash">"font_face": "Ubuntu mono",
"font_size": 12</pre> 

<a href="http://font.ubuntu.com/">Ubuntu font</a>

<a href="http://studiostyl.es/schemes/zenburn-2012">Zenburn for Visual Studio</a>

<a href="http://www.impressivewebs.com/custom-zenburn-theme-for-sublime-text-2/">Zenburn for Sublime Text</a>

<p>Enjoy beautiful coding.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/07/31/linux-set-wireless-bit-rate-permanently-on-ubuntu-or-linux-mint/">Linux - Set Wireless Bit Rate Permanently on Ubuntu or Linux Mint</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/31/android-expandablelistview-tutorial/">Android - ExpandableListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/28/linux-install-handbrake-on-linux-mint-15/">Linux - Install Handbrake on Linux Mint 15</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/26/linux-virtualbox-windows-host-share-in-ubuntu-guest/">Linux VirtualBox - Windows Host Share in Ubuntu Guest</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/25/linux-setgid-on-directory-and-share-directory-with-users/">Linux - Setgid on Directory and Share Directory With Users</a>
      </li>
    
  </ul>
</section>
<div id="fb-root"></div>
<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	    if (d.getElementById(id)) return;
	      js = d.createElement(s); js.id = id;
	        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=295226453878610";
		  fjs.parentNode.insertBefore(js, fjs);
		  }(document, 'script', 'facebook-jssdk'));</script>
	  <div style="text:align:center">
		  <div class="fb-like-box" data-href="https://www.facebook.com/pages/Debug-Release/473369436071930" data-width="250" data-show-faces="true" data-stream="false" data-show-border="true" data-header="false"></div></div>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Deepak Kapoor -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=8878331; 
var sc_invisible=0; 
var sc_security="f0e88835"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="free hit
counters" href="http://statcounter.com/free-hit-counter/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/8878331/0/f0e88835/0/"
alt="free hit counters"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://plus.google.com/105555323627924521684?rel=author">Google Profile</a>
<script type='text/javascript'>
    function _dmBootstrap(file) { 
        var _dma = document.createElement('script');  
        _dma.type = 'text/javascript'; 
        _dma.async = true;  
        _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file; 
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);
    }
    function _dmFollowup(file) { if (typeof DMAds === 'undefined')  _dmBootstrap('cdn2.DeveloperMedia.com/a.min.js');}
    (function () { _dmBootstrap('cdn1.DeveloperMedia.com/a.min.js'); setTimeout(_dmFollowup, 2000);})();
</script>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
