
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>.NET Framework - Serialize and Deserialize - My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="This article is about serialization and deserialization in Microsoft .NET Framework. At the time of writing this article I am using .NET Framework 4. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://deepak-kapoor.github.io/blog/2013/05/24/net-framework-serialize-and-deserialize-c-sharp">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:deepak-kapoor.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">.NET Framework - Serialize and Deserialize</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-24T00:00:00+10:00" pubdate data-updated="true">May 24<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>This article is about serialization and deserialization in Microsoft .NET Framework. At the time of writing this article I am using .NET Framework 4.5. The concepts I talk about here also apply to all earlier versions.</p>

<p>Motivation to write this article came from a colleague on one of the projects I am busy with these days. I am mentoring a couple of developers who have joined the project straight out of university. They are here to learn the ropes of Microsoft .NET centric software development. Yesterday during a design discussion we talked about serialization of objects in our system. They are well familiar with the concepts of serialization, I showed them how it is done in .NET world.</p>
<p>Serialization is a technique we use to convert the state of an object to a format which can be persisted for later retrieval. Last sentence perhaps sounded very bookish. Let&#8217;s try some plain English and understand the concept using an example. We will use an example which involves pizza.</p>

<p>We will write a class to represent a Pizza. The class has a property Slices to hold the number of slices. When pizza object is initialized, the number of slices are set to 8. Pizza class also has methods for eating a slice, saving the pizza for later consumption and a method to get leftover pizza. Here are the stubs for properties and methods.</p>
<pre class="lang:c# decode:true " >public int Slices
public bool IsThereAnyPizzaLeftForMe

public void EatSlice()
public void SaveForLater()
public static Pizza GetLeftOverPizza()</pre> 
<p>We will now fill in the stubs for SaveForLater() and GetLeftOverPizza(). This is where we will serialize and deserialize our pizza object.</p>
 
<pre class="lang:c# decode:true " >public void SaveForLater()
{
	XmlSerializer serializer = new XmlSerializer(typeof(Pizza));

	using (StreamWriter writer = new StreamWriter(@"c:\temp\pizza.xml"))
	{
		serializer.Serialize(writer,this);
	}
}</pre> 

<p>In the code above we are saying that serialize the pizza object to XML file. XmlSerializer comes with .NET framework and can be found in System.Xml.Serialization namespace. Objects can also be serialized to binary format. We can look at that some other day. For now let&#8217;s go with XML.</p>

<p>Here is the code from a console application which creates an instance of Pizza class, eats a slice and calls SaveForLater() to serialize the object state to XML.</p>
 
<pre class="lang:c# decode:true " >static void Main(string[] args)
{
	Pizza pizza = new Pizza();
	Console.WriteLine("{0} slices left in the pizza", pizza.Slices);
	
	pizza.EatSlice();
	Console.WriteLine("{0} slices left in the pizza", pizza.Slices);

	pizza.SaveForLater();
}</pre> 

<p>Let&#8217;s look at the XML to which our pizza object was serialized. </p>
 
<pre class="lang:xhtml decode:true " >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Pizza xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
  &lt;Slices&gt;7&lt;/Slices&gt;
&lt;/Pizza&gt;</pre> 

<p>Note that it only saves Slices property. There is no need to save/serialize the IsThereAnyPizzaLeftForMe property because it&#8217;s value can be determined by checking if Slices is equal to zero. XmlSerializer is smart enough to know which data is absolutely required to deserialize an object. Also methods are behaviors which act upon data so there is no need to retain them.</p>

<p>GetLefOverPizza() method creates an instance of Pizza object from XML. To be technically correct, it deserializes a pizza object from XML.</p>
 
<pre class="lang:c# decode:true " >public static Pizza GetLeftOverPizza()
{
	Pizza pizza = null;
	XmlSerializer serializer = new XmlSerializer(typeof(Pizza));

	using (FileStream fileStream = new FileStream(@"c:\temp\pizza.xml", FileMode.Open))
	{
	pizza = (Pizza)serializer.Deserialize(fileStream);
	}

	return pizza;
}</pre> 

<p>Another console application shows retrieving a left over pizza, eating a slice and then again saving it for later.</p>

<pre class="lang:c# decode:true " >static void Main(string[] args)
{
	Pizza pizza = Pizza.GetLeftOverPizza();
	Console.WriteLine("{0} slices left in the pizza", pizza.Slices);

	pizza.EatSlice();
	Console.WriteLine("{0} slices left in the pizza", pizza.Slices);

	pizza.SaveForLater();
	
}</pre> 

<p>So there you have it. A simple example which shows how to serialize and deserialize an object in .NET Framework.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Your Name</span></span>

      








  


<time datetime="2013-05-24T00:00:00+10:00" pubdate data-updated="true">May 24<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://deepak-kapoor.github.io/blog/2013/05/24/net-framework-serialize-and-deserialize-c-sharp/" data-via="" data-counturl="http://deepak-kapoor.github.io/blog/2013/05/24/net-framework-serialize-and-deserialize-c-sharp/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/05/20/my-windows-phone-app-is-runner-up-in-lifehacker-and-microsofts-developer-challenge/" title="Previous Post: My Windows Phone app is runner-up in Lifehacker and Microsoft’s developer challenge">&laquo; My Windows Phone app is runner-up in Lifehacker and Microsoft’s developer challenge</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/05/26/find-homepage-on-internet-explorer/" title="Next Post: Find homepage on Internet Explorer">Find homepage on Internet Explorer &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/31/linux-set-wireless-bit-rate-permanently-on-ubuntu-or-linux-mint/">Linux - Set Wireless Bit Rate Permanently on Ubuntu or Linux Mint</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/31/android-expandablelistview-tutorial/">Android - ExpandableListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/28/linux-install-handbrake-on-linux-mint-15/">Linux - Install Handbrake on Linux Mint 15</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/26/linux-virtualbox-windows-host-share-in-ubuntu-guest/">Linux VirtualBox - Windows Host Share in Ubuntu Guest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/25/linux-setgid-on-directory-and-share-directory-with-users/">Linux - Setgid on Directory and Share Directory With Users</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
