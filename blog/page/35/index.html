
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Debug Release</title>
  <meta name="author" content="Deepak Kapoor">

  
  <meta name="description" content="I wish all readers of One .Net Way a very Happy New Year. Let 2009 be an year of learning. I know it will be for me.
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.debugrelease.com/blog/page/35">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/debug-release" rel="alternate" title="Debug Release" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<link href="/stylesheets/debrel.css" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="lgYJWL_s1AZLFOqJ9ejrQhbIkJcvzpsBZnUBGHcNk-w" />

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Debug Release</a></h1>
  
    <h2>Hacking notes of Deepak Kapoor</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/debug-release" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.debugrelease.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/01/02/happy-new-year/">Happy New Year</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-01-02T00:00:00+11:00" pubdate data-updated="true">Jan 2<span>nd</span>, 2009</time>
        
         | <a href="/2009/01/02/happy-new-year/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I wish all readers of One .Net Way a very <font color="#804040" size="5">Happy New Year</font>. Let 2009 be an year of learning. I know it will be for me.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/12/23/linqpad-with-intellisense/">LINQPad With Intellisense</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-23T00:00:00+11:00" pubdate data-updated="true">Dec 23<span>rd</span>, 2008</time>
        
         | <a href="/2008/12/23/linqpad-with-intellisense/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">I had a look at <a href="http://www.linqpad.net/">LINQPad</a> few months ago when I wrote about how you can use this tool to <a href="http://www.debugrelease.com/view-t-sql-query-generated-by-linq-to-sql-using-linqpad/">view generated LINQ To SQL Queries</a>. There is not doubt that LINQPad comes in as a very handy tool when writing LINQ queries. But writing queries in LINQPad has not been that easy. Until Now!

LINQPad now has <strong>Intellisense</strong>. <a href="http://www.albahari.com/">Joseph Albahari</a> has released this much desired feature. He is running a $17 for single license deal till December 23rd. At 17 bucks you can&#8217;t go wrong. The time it will save you justifies the price many times.

<img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2008/12/image2.png" border="0" alt="image" width="550" height="379" />

If you are new to LINQ and need some guidance then LINQPad also comes with aÂ  collection of sample queries to get you started.

<img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2008/12/image3.png" border="0" alt="image" width="550" height="379" />

I bought my auto-completion code today and I&#8217;ve been playing with LINQPad like a kid with a new toy. Thanks Joseph for putting together this nice tool.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/12/12/remove-duplicate-lines-from-a-text-file-using-linq/">Remove Duplicate Lines From a Text File Using LINQ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-12T00:00:00+11:00" pubdate data-updated="true">Dec 12<span>th</span>, 2008</time>
        
         | <a href="/2008/12/12/remove-duplicate-lines-from-a-text-file-using-linq/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A question was posted on c-sharpcorner forums asking how you would <a href="http://www.c-sharpcorner.com/Forums/ShowMessages.aspx?ThreadID=51446">remove duplicate lines from a text file</a>. It got me thinking about how this problem could be addressed using LINQ. Before I get into the solution, here is the problem statement. </p>  <h4>The problem</h4>  <blockquote>   <p>I am trying to remove duplicate lines from a text file. To make things difficult the lines contain non unique timestamps but a unique reference number. Some of the duplicates amount to 10 lines whereas others can only be 2 lines.</p>    <p>     <br />1. Here are some examples of duplicates lines:&lt;timestamp&gt;,&lt;reference&gt;,&lt;error message&gt;       <br />08:47:22,95847170050,Problem inputting data.       <br />08:48:28,96672540040,More problems inputting data.       <br />08:49:29,95847170050,Problem inputting data.       <br />08:55:28,106622510040,Extra issues inputting data.       <br />08:56:35,95847170050,Problem inputting data.       <br />08:57:35,106622510040,Extra issues inputting data.       <br />09:02:35,96672540040,More problems inputting data.       <br />09:03:41,96672540040,More problems inputting data.       <br />09:04:41,106622510040,Extra issues inputting data.       <br /></p>   <b></b>    <p><b>I want to delete all but KEEP the most recent duplicate line.</b></p> </blockquote>  <p>On the forum there is also some Java code which has been used as a solution. But I will ignore it so that I can approach it from a fresh perspective.</p>  <p>&#160;</p>  <h4>Solution The LINQ Way</h4>  <p>Here is my approach to remove duplicate lines from a text file. Firstly, I read the contents of the file into a collection of Type List&lt;Error&gt; using an approach <a href="http://www.debugrelease.com/tutorial-reading-a-text-file-using-linq/">I described in an earlier post</a> .</p>  

<pre class="lang:c# decode:true " >
var query = from e in
  (from line in File.ReadAllLines(originalFile)
    let errorRecord = line.Split(',')
    let timestamp = errorRecord[0].Split(':')
    select new Error() 
    {                           
      TimeStamp = new TimeSpan(
        Convert.ToInt32(timestamp[0]), 
        Convert.ToInt32(timestamp[1]), 
        Convert.ToInt32(timestamp[2])),
      Reference = errorRecord[1],
      Message = errorRecord[2]
    })
  select e;
</pre>

<p>This is what my Error class looks like. This class maps to a record in the file.</p>

<pre class="lang:c# decode:true " >
public class Error
{
  public TimeSpan TimeStamp { get; set; }
  public string Reference { get; set; }
  public string Message { get; set; }
}
</pre>

<p>Once I have the collection loaded up from the file. I then use a LINQ query to select the results I want. This query uses combination of group by and aggregates to select the most current record for a reference number as per the original problem statement.</p>

<pre class="lang:c# decode:true " >
var query = from e in errorCollection
  group e by new { e.Reference, e.Message } into g
  let MaxDate = g.Max(x => x.TimeStamp)
  select new Error 
  {
    TimeStamp = MaxDate,
    Reference = g.Key.Reference, 
    Message = g.Key.Message
  };
</pre>

<p>Finally I write the collection I get from the query above to another text file.</p>

<pre class="lang:c# decode:true " >
List<Error> newList = query.ToList();

using (StreamWriter sw = new StreamWriter(processedFile))
{
  newList.ForEach(x => sw.WriteLine(x.TimeStamp+","+x.Reference+","+x.Message));
  sw.Close();
}
</pre>

<p>The code which loads the collection from the file can be optimized for performance but it does a good job when dealing with a reasonably small file. Below is the full code for my two methods.</p>

<pre class="lang:c# decode:true " >
public void RemoveDuplicates(string originalFile, string processedFile)
{
  List<Error> errorCollection = ReadFileIntoCollection(originalFile);
            
  var query = from e in errorCollection
    group e by new { e.Reference, e.Message } into g
    let MaxDate = g.Max(x => x.TimeStamp)
    select new Error 
    {
      TimeStamp = MaxDate,
      Reference = g.Key.Reference, 
      Message = g.Key.Message
    };

  List<Error> newList = query.ToList();

  using (StreamWriter sw = new StreamWriter(processedFile))
  {
    newList.ForEach(x => sw.WriteLine(x.TimeStamp+","+x.Reference+","+x.Message));
    sw.Close();
  }
}

public List<Error> ReadFileIntoCollection(string originalFile)
{
  List<Error> errorCollection = null;

  var query = from e in
    (from line in File.ReadAllLines(originalFile)
    let errorRecord = line.Split(',')
    let timestamp = errorRecord[0].Split(':')
    select new Error() 
    {
      TimeStamp = new TimeSpan(
        Convert.ToInt32(timestamp[0]), 
        Convert.ToInt32(timestamp[1]), 
        Convert.ToInt32(timestamp[2])),
      Reference = errorRecord[1],
      Message = errorRecord[2]
    })
    select e;

  errorCollection = query.ToList<Error>();
  return errorCollection;
}
</pre>

<p>So this is my approach to remove duplicates from a text file using LINQ. This is just one example of how LINQ can be used to create creative solutions to some common programming problem. The power of LINQ lies in its simplicity which you can use to write beautiful code. </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/12/04/the-era-of-cloud-computing-consultant/">The Era of Cloud Computing Consultant</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-04T00:00:00+11:00" pubdate data-updated="true">Dec 4<span>th</span>, 2008</time>
        
         | <a href="/2008/12/04/the-era-of-cloud-computing-consultant/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img style="border-top-width: 0px; border-left-width: 0px; float: left; border-bottom-width: 0px; border-right-width: 0px" height="109" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2008/12/image1.png" width="150" border="0" /> <strong>CCC stands for Cloud Computing Consultant</strong>. There, I have said it. This is my contribution to acronyms-land. I have also cleverly designed it to minimize <a href="http://en.wikipedia.org/wiki/Repetitive_strain_injury">RSI</a> which I am sure will be appreciated. You only have to use one key to type the acronym. If you ever come across the term Cloud Computing Consultant then remember that you read about it on <a href="http://www.debugrelease.com/">One .Net Way</a>. Before you start googling this out let me make few things clear. IBM has a service called Cloud Computing Consulting which is more of a practice. <strong>Cloud Computing Consultant</strong> on the other hand is about an <strong>individual</strong>. </p>  <p>&#160;</p>  <h4>So who is a CCC? </h4>  <p>He or she (if girls get interested in this stuff) is a person who sucks up the knowledge and complexity from Cloud vendors (Microsoft in my case) and translates it into real world English for his clients. </p>  <p>&#160;</p>  <h4>Why do we need him?</h4>  <p>Good question. I am glad you asked it. No I seriously am. We need him for the same reasons we need tech consultants today. He is skilled and knowledgeable to recommend, advise and also implement business solutions based on Cloud Computing. CCS (Cloud Computing Solution) to be more precise. There, I&#8217;ve done it again. For the records; the term CCS also calls OneDotNetWay its birthplace.</p>  <p>&#160;</p>  <h4>Should you become one?</h4>  <p>If you are a night programmer who sacrifices luxuries of life such as television, sleep etc. to keep yourself up to date with new technologies then I highly recommend it. This is where the industry is heading. Of course if you are a maintenance programmer who is willing to spend rest of his years working on an application which went into support mode a decade ago then you can skip the whole cloud thing.</p>  <p>&#160;</p>  <h4>How do you get started?</h4>  <p>A lot of it depends on what is your learning style. But this is what I would suggest. Leave not a single unread word on <a href="http://www.microsoft.com/azure/default.mspx">Microsoft Azure site</a> and to everything else linked from here. Once you have done that, I recommend watching all <a href="https://sessions.microsoftpdc.com/public/timeline.aspx">PDC videos</a> on Azure. By this time you will be ready and excited to check out the Cloud for yourself. To do just that you can <a href="http://www.microsoft.com/azure/sdk.mspx">download Azure SDK</a> and also <a href="https://connect.microsoft.com/SelfNomination.aspx?SiteID=681&amp;ProgramID=2500&amp;pageType=1">ask for access to CTP</a>. Microsoft will be more than happy to provide one. I got mine in less than a day. Finally keep reading <a href="http://www.debugrelease.com/">One .Net Way</a>.</p>  <p>All the best.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/12/03/google-chrome-gains-market-share/">Google Chrome Gains Market Share</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-03T00:00:00+11:00" pubdate data-updated="true">Dec 3<span>rd</span>, 2008</time>
        
         | <a href="/2008/12/03/google-chrome-gains-market-share/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>According to <a href="http://marketshare.hitslink.com/browser-market-share.aspx?qprid=0">Market Share</a> Google Chrome has 1% of browser market share. I am sure I must be a part of that statistics because I have Chrome installed on one of machines, and I think of it as just another browser. Although integrating search into address bar is a clever feature but again it is just a browser for me. After reading browser statistics on Market Share I decided to have a look at analytics for this site to see the browser share. Here is a chart:</p>  <p>&#160;<img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="290" alt="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2008/12/image.png" width="498" border="0" /> </p>  <p>Yu can see that Chrome ranks third after IE and Firefox. Six percent readers of this site use Chrome. Now I assume that most of my readers are people who work with Microsoft technologies and most likely developers. Does this mean that developers are embracing Chrome. Of course I do not have any hard data to back up the assertion but it is still worth a thought.</p>  <p>Are you a developer? Do you use Google Chrome?</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/36/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/34/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/07/31/linux-set-wireless-bit-rate-permanently-on-ubuntu-or-linux-mint/">Linux - Set Wireless Bit Rate Permanently on Ubuntu or Linux Mint</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/31/android-expandablelistview-tutorial/">Android - ExpandableListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/28/linux-install-handbrake-on-linux-mint-15/">Linux - Install Handbrake on Linux Mint 15</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/26/linux-virtualbox-windows-host-share-in-ubuntu-guest/">Linux VirtualBox - Windows Host Share in Ubuntu Guest</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/25/linux-setgid-on-directory-and-share-directory-with-users/">Linux - Setgid on Directory and Share Directory With Users</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/03/linux-number-of-files-in-directory/">Linux - Number of Files in Directory</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/24/android-listview-tutorial-with-images-and-text/">Android - ListView Tutorial With Images and Text</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/19/android-listview-tutorial/">Android - ListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/11/android-linear-layout-example/">Android - Linear Layout Example</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/02/ubuntu-font-and-zenburn-i-like-to-make-my-code-look-good/">Ubuntu Font and Zenburn - I Like to Make My Code Look Good</a>
      </li>
    
  </ul>
</section>
<div id="fb-root"></div>
<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	    if (d.getElementById(id)) return;
	      js = d.createElement(s); js.id = id;
	        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=295226453878610";
		  fjs.parentNode.insertBefore(js, fjs);
		  }(document, 'script', 'facebook-jssdk'));</script>
	  <div style="text:align:center">
		  <div class="fb-like-box" data-href="https://www.facebook.com/pages/Debug-Release/473369436071930" data-width="250" data-show-faces="true" data-stream="false" data-show-border="true" data-header="false"></div></div>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Deepak Kapoor -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=8878331; 
var sc_invisible=0; 
var sc_security="f0e88835"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="free hit
counters" href="http://statcounter.com/free-hit-counter/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/8878331/0/f0e88835/0/"
alt="free hit counters"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://plus.google.com/105555323627924521684?rel=author">Google Profile</a>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41110156-1', 'debugrelease.com');
  ga('send', 'pageview');

</script>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'debugrelease';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
