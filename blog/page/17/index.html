
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Debug Release</title>
  <meta name="author" content="Deepak Kapoor">

  
  <meta name="description" content="Keynote for TechEd Australia started a bit slow with too much concentration on words such as innovation, excitement and productivity. Keynote was &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.debugrelease.com/blog/page/17">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/debug-release" rel="alternate" title="Debug Release" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<link href="/stylesheets/debrel.css" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="lgYJWL_s1AZLFOqJ9ejrQhbIkJcvzpsBZnUBGHcNk-w" />

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Debug Release</a></h1>
  
    <h2>Hacking notes of Deepak Kapoor</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/debug-release" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.debugrelease.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/09/teched-australia-day-2/">TechEd Australia Day 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-09T00:00:00+10:00" pubdate data-updated="true">Sep 9<span>th</span>, 2009</time>
        
         | <a href="/2009/09/09/teched-australia-day-2/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Keynote for TechEd Australia started a bit slow with too much concentration on words such as innovation, excitement and productivity. Keynote was saved by awesome presentations by Sara Ford and Sarah Vaughan. Rest of the day was fantastic. A combination of excellent topics and superb presentation skills made it a worthy learning day. </p>  <p>The best presentation of the day which I attended was by <a href="http://damianedwards.wordpress.com/">Damian Edwards</a> on ASP.NET MVC. Well structured and full of useful information. ASP.NET MVC is my current focus and that made the presentation even more interesting for me . Well done Damian. </p>  <p>I also attended a talk on BizSpark by <a href="http://blog.rog42.net/">Rog42</a> and <a href="http://blogs.msdn.com/chlong/">Christian Longstaff</a>. Biz Spark is a great program for startups and if you are one then you should definitely look at it. Where else can you get a suite of world class software at $100 which is payable in third year. I’m thinking that I might consider it for my company.</p>  <p>I also enjoyed Sharepoint presentation by <a href="http://blogs.msdn.com/acoat/">Andrew Coates</a> and <a href="http://wss.made4the.net/default.aspx">Jeremy Thake</a>. Their presentation was well synchronised and full of Sharepoint goodness. I’m not too much into Sharepoint but even I picked up points which I could use if god forbid I have to do any Sharepoint work again.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/08/teched-australia-day-1/">TechEd Australia Day 1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-08T00:00:00+10:00" pubdate data-updated="true">Sep 8<span>th</span>, 2009</time>
        
         | <a href="/2009/09/08/teched-australia-day-1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some of you may know that author of this site (that’s me in case you are thinking) is attending his first ever TechEd. TechEd to me is like woodstock for developers and other IT people who come in masses for this amazing and full of geek energy event. Over next few posts I will write about my experience of TechEd.</p>  <h3>Day 1</h3>  <p>Technically today was not the first day of TechEd but it was for me. I arrived at Gold Coast after a pleasant 1 point something hour flight. Meeting familiar people at Gold Coast airport who were also headed to TechEd got me into TechEd groove right away. I checked into my hotel which is in front of Convention Centre and the best part is that I can get a panoramic view of Convention Centre from my window. Wasting no time I went straight to Convention Centre for registration and picked up my Netbook, picked up my delegate bag (to be reviewed soon) and headed to exhibition hall where I caught up with <a href="http://www.lobsterpot.com.au">Rob Farley</a> and finally met Deeps. For those who have confused me with <a href="http://blogs.technet.com/user/Profile.aspx?UserID=5777">Deeps</a> I can now logically prove that we are two different people. Exhibition hall was buzzing with activity and you could feel geek vibes all over the place. </p>  <p>I took some pictures which you can view down below. But before you do that I have a WTF to report on. Drums please. WTF for today was found inside delegate bag within HP folder. There is a pamphlet which says HP recommends Vista Business. </p>  <p> Registration booths at TechEd Australia.</p>  <p><a title="IMG_0167 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449713/"><img alt="IMG_0167" src="http://farm3.static.flickr.com/2448/3899449713_9bbc3d5fa2.jpg" width="500" height="375" /></a> </p>  <p> Me holding my HP Netbook. Still in the box.</p>  <p><a title="IMG_0170 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449727/"><img alt="IMG_0170" src="http://farm4.static.flickr.com/3482/3899449727_531daf0111.jpg" width="500" height="375" /></a> </p>  <p> My friend Rob Farley holding my Netbook.</p> <a title="IMG_0168 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449721/"><img alt="IMG_0168" src="http://farm4.static.flickr.com/3520/3899449721_74ce372b78.jpg" width="375" height="500" /></a>   <p> Netbook right out of the box. Not booted yet.</p> <a title="IMG_0172 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449735/"><img alt="IMG_0172" src="http://farm3.static.flickr.com/2525/3899449735_9c5d8e2f1d.jpg" width="375" height="500" /></a>   <p>More tomorrow…</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/01/output-to-console-in-windows-forms-application/">Output to Console in Windows Forms Application</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-01T00:00:00+10:00" pubdate data-updated="true">Sep 1<span>st</span>, 2009</time>
        
         | <a href="/2009/09/01/output-to-console-in-windows-forms-application/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">This post shows you how to output data to a Console in a Windows Forms Application. I use this technique religiously when developing Windows Forms applications. Debugging is much simpler when you can see information on what your application is doing in a Console. Of course the onus is on you as developer to output data which will help you.

In this post I will use a simple Windows Forms application which adds two numbers.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="Windows Forms" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/09/image.png" border="0" alt="Windows Forms" width="300" height="188" />

By default a Windows Forms application does not output to a Console even if you write a Console.Write() or Console.WriteLine(). This shortcoming can be addressed by using Win32 API. In your Windows Forms application you can declare a class which provides a wrapper around Win32 functions.

<pre class="lang:c++ decode:true " >public class Win32
{
  /// &lt;summary&gt;
  /// Allocates a new console for current process.
  /// &lt;/summary&gt;
  [DllImport("kernel32.dll")]
  public static extern Boolean AllocConsole();

  /// &lt;summary&gt;
  /// Frees the console.
  /// &lt;/summary&gt;
  [DllImport("kernel32.dll")]
  public static extern Boolean FreeConsole();
}</pre> 

A Console must be started to accept input and display our messages. This can be done by calling Win32.AllocConsole() function. For my example I will start the console in my form’s constructor.
 
<pre class="lang:c# decode:true " >public Form1()
{
  InitializeComponent();

  Win32.AllocConsole();
}</pre> 

Now when I write to Console, I will see data appear in the console window which was started in my constructor.

 
<pre class="lang:c# decode:true " >private void Add(int num1, int num2)
{
  int result = num1 + num2;

  Console.WriteLine(
    string.Format("{0} + {1} = {2}", num1, num2, result));
}</pre> 


<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="Console" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/09/image1.png" border="0" alt="Console" width="419" height="189" />

As a good practice you should also close the console window by calling Win32.FreeConsole() method before your application exits.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/08/26/adonet-data-services-logical-operators/">ADO.NET Data Services Logical Operators</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-26T00:00:00+10:00" pubdate data-updated="true">Aug 26<span>th</span>, 2009</time>
        
         | <a href="/2009/08/26/adonet-data-services-logical-operators/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post we will look at Logical Operators in ADO.NET Data Services. These operators can be used as filter expressions in our requests and ADO.NET Data Services applies the filter before results are returned. We will use Data Services generated over Adventureworks Lite database. If you are new to ADO.NET Data Services and would like to know how to generate ADO.NET Data Service then please see this <a href="http://www.debugrelease.com/adonet-data-services-tutorial-with-aspnet/">article</a>.</p>  <p>One thing to keep in mind is that filter expressions are case sensitive. And the syntax of applying filters in ADO.NET Data Services is</p>  <p><font color="#008000">&lt;url&gt;?$filter=&lt;your filter&gt;</font></p>  <p>Let’s now look at all logical operators</p>  <h3>Equal To</h3>  <p><font color="#008000">Parameter: eq</font></p>  <p>Equal To evaluates true when both operands have the same value. Here I am retrieving products where the value of Color matches “Yellow”.</p>  <p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=Color eq &#8216;Yellow&#8217;</font></p>  <p>Logical operator can also be applied in code through a LINQ query. </p>  

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.Color == "Yellow"
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.Color);
}</pre> 


<h3>Not Equal To</h3>
<font color="#008000"></font>

<p><font color="#008000">Parameter: ne</font></p>

<p>Not equal is opposite of equal to and evaluates true when both operands do not have the same value. Here I am retrieving products where the value of Color is NOT “Yellow”.</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=Color ne &#8216;Yellow&#8217;</font></p>

<p>Following code will also achieve the same result through a LINQ query.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.Color != "Yellow"
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.Color);
}</pre> 


<h3>Less than</h3>

<p><font color="#008000">Parameter: lt</font></p>

<p>Less than evaluates true when first operand is less than second. In this example I get all products where ListPrice is less than 20.</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice lt 20</font></p>

<p>Here is the C# version of Less than operator.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.ListPrice &lt; 20
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>Less than or equal to</h3>

<p><font color="#008000">Parameter: le</font></p>

<p>Less than or equal to evaluates true when first operand is either less than or equal to second operand. In this example I am retrieving all products where ListPrice is less than or equal to 9.5</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice le 9.5</font></p>

<p>And C# equivalent will look like this.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.ListPrice &lt;= 9.5m
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>Greater than</h3>

<p><font color="#008000">Parameter: gt</font></p>

<p>Greater than evaluates true if the first operand is greater than the second. In this example I am retrieving all products where ListPrice is greater than 9.5</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice gt 9.5</font></p>

<p>Greater than is a no brainer with a LINQ query.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  here p.ListPrice &gt; 9.5m
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>Greater than or equal to</h3>

<p><font color="#008000">Parameter: ge</font></p>

<p>Greater than or equal to evaluates true if the first operand is greater than or equal to second. Here is&#160; an example. I am retrieving all products where ListPrice is greater than or equal to 9.5</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice ge 9.5</font></p>

<p>C# example</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.ListPrice &gt;= 9.5m
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>And</h3>

<p><font color="#008000">Parameter: and</font></p>

<p>“And” evaluates true when both operands are true. In this example I am retrieving all products where the Color is Black and ListPrice is greater than 1000.</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=(Color eq &#8216;Black&#8217;) and (ListPrice gt 1000)</font></p>

<p>Same results can be retrieved in C# with this code.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where (p.Color == "Black") 
    &amp;&amp; (p.ListPrice &gt; 1000)
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.Color + "t" + item.ListPrice);
}</pre> 


<h3>Or</h3>

<p><font color="#008000">Parameter: or</font></p>

<p>“Or” evaluates true when either operand is true. In this example I am retrieving all products where either the Color is Black or ListPrice is greater than 1000.</p>

<p><a href="http://localhost:6803/DataService.svc/Product?"><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?</font></a><font color="#800000" size="3">$filter=(Color eq &#8216;Black&#8217;) or (ListPrice gt 1000)</font></p>

<p>Now with C#.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where (p.Color == "Black")
    || (p.ListPrice &gt; 1000)
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.Color + "t" + item.ListPrice);
}</pre> 


<h3>Not</h3>

<p><font color="#008000">Parameter: not</font></p>

<p>“Not” evaluates true if operand is false. An example can be retrieving all products where the Color is not Black. </p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=not (Color eq &#8216;Black&#8217;)</font></p>

<p>While this can be achieved using not equal to operator they are not the same. I’ll leave C# code for this one for you :)</p>

<p>&#160;</p>

<h3>Conclusion</h3>

<p>This article demonstrated all logical operators available for ADO.NET Data Services. In a future post I will cover other types of operators for ADO.NET Data Services. </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/08/16/execute-stored-procedure-with-adonet-data-services/">Execute Stored Procedure With ADO.NET Data Services</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-16T00:00:00+10:00" pubdate data-updated="true">Aug 16<span>th</span>, 2009</time>
        
         | <a href="/2009/08/16/execute-stored-procedure-with-adonet-data-services/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction</h3>
In an <a href="http://www.debugrelease.com/adonet-data-services-tutorial-with-aspnet/">earlier article</a> I looked at how DO.NET Data Services can be used with ASP.NET. In this post I will talk about using ADO.NET Data Services to retrieve data via SQL Server stored procedure. Doing this is simple and I will follow a similar approach to hook everything up as I did in my <a href="http://www.debugrelease.com/adonet-data-services-tutorial-with-aspnet/">earlier post</a>.

I have created a stored procedure which retrieves data from Employees table in Northwind database based on city name. Here is the script I used to create the procedure.

<pre class="lang:tsql decode:true " >
CREATE PROCEDURE [dbo].[GetEmployeesByCity] 
    @City NVARCHAR(15)
AS

BEGIN

    SELECT *
    FROM Employees
    WHERE City = @City

END
</pre>

<h3>Creating Data Model</h3>
ADO.NET Data Services sits between the client and a data source, so the first thing I’ll need is a data source. I will use Entity Framework to create my data source.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image13.png" border="0" alt="image" width="544" height="427" />

To make things simple I will select Employees table only for my Entity Data Model.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image14.png" border="0" alt="image" width="544" height="483" />
<h3>Mapping Stored Procedure in EDM</h3>
My objective here is to retrieve data from a stored procedure. To this I need to expose the procedure through my data layer which I have created using Entity Framework. Mapping a stored procedure in Entity Framework can be done by following these steps.

Open Model Browser (View –&gt; Other Windows –&gt; Model Browser). Right click on Stored Prodecures under NorthwindModel.Store and click Update Model from Database.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image6.png" border="0" alt="image" width="380" height="208" />

Select the stored procedure (GetEmployeesByCity in this case) and click Finish.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image7.png" border="0" alt="image" width="307" height="309" />

Go back to Model Browser and under stored procedure right click the stored procedure and click Create Function Import.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image8.png" border="0" alt="image" width="411" height="250" />

Select Employees entity as the return type and click OK.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image9.png" border="0" alt="image" width="399" height="291" />

Entity Model is now setup to execute the stored procedure and return results. It can be called like this.
 
<pre class="lang:c# decode:true " >NorthwindEntities entities = new NorthwindEntities();
var employees = entities.GetEmployeesByCity("London");</pre> 

My goal however is to retrieve data via ADO.NET Data Services so I’ll start creating my service.
<h3>And Now With a Service</h3>
Because I’d like to access this data through my ADO.NET Data Service so the first thing I’ll do is create a service called NorthwindEmployeeService. I will add a new item to my project of type ADO.NET Data Service.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image10.png" border="0" alt="image" width="540" height="400" />

Visual Studio creates a blank service with some scaffolding for me to get started. First thing I need to do is let my service know about my data source class and then configure appropriate rights to my entities and operations. To be simple I will just allow everything. Below is the code for my service after making changes.

 
<pre class="lang:c# decode:true " >public class NorthwindEmployeeService : DataService&lt;NorthwindEntities&gt;
{
  // This method is called only once to initialize service-wide policies.
  public static void InitializeService(IDataServiceConfiguration config)
  {
    config.SetEntitySetAccessRule("*", EntitySetRights.AllRead);
    config.SetServiceOperationAccessRule("*", ServiceOperationRights.All);
  }
}</pre> 


By default my service does not know that it should also work with a stored procedure. To do this i can write a method which will execute the procedure and return results. Such a method can look like this.

 
<pre class="lang:c# decode:true " >[WebGet]
public ObjectResult&lt;Employees&gt; GetEmployeesByCity(string cityName)
{
  NorthwindEntities entities = new NorthwindEntities();
  return entities.GetEmployeesByCity(cityName);
}</pre> 


Method above tells the service to expose a GetEmployeesByCity method which can be called by clients. Note that the method is decorated with a WebGet attribute which indicates that this is a GET method which can be called by a web client.
<h3>Running Service and Calling Stored Procedure</h3>
To see my service in action I can hit F5

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image11.png" border="0" alt="image" width="540" height="500" />

To see the results from the stored procedure I can use the following URL.

<span style="color: #800000; font-size: x-small;">http://localhost:16147/NorthwindEmployeeService.svc/GetEmployeesByCity?cityName=&#8217;London&#8217;</span>

Here I am passing in the parameter as a query string which is accepted by my service and appropriate results are returned.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="https://googledrive.com/host/0B6PDO8HPEQZNZWpTRms0ZWtlaUU/uploads/2009/08/image12.png" border="0" alt="image" width="539" height="645" />
<h3>Conclusion</h3>
In this article I used ADO.NET Data Services to execute a stored procedure and return results. I am not in favour of implementing a direct mapping between services and database and the design can be a little better whereby data layer can be sensibly abstracted away by service. However the idea was to demonstrate a concept. I hope you enjoyed reading this article.
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/18/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/16/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/07/31/linux-set-wireless-bit-rate-permanently-on-ubuntu-or-linux-mint/">Linux - Set Wireless Bit Rate Permanently on Ubuntu or Linux Mint</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/31/android-expandablelistview-tutorial/">Android - ExpandableListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/28/linux-install-handbrake-on-linux-mint-15/">Linux - Install Handbrake on Linux Mint 15</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/26/linux-virtualbox-windows-host-share-in-ubuntu-guest/">Linux VirtualBox - Windows Host Share in Ubuntu Guest</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/25/linux-setgid-on-directory-and-share-directory-with-users/">Linux - Setgid on Directory and Share Directory With Users</a>
      </li>
    
      <li class="post">
        <a href="/2013/07/03/linux-number-of-files-in-directory/">Linux - Number of Files in Directory</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/24/android-listview-tutorial-with-images-and-text/">Android - ListView Tutorial With Images and Text</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/19/android-listview-tutorial/">Android - ListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/11/android-linear-layout-example/">Android - Linear Layout Example</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/02/ubuntu-font-and-zenburn-i-like-to-make-my-code-look-good/">Ubuntu Font and Zenburn - I Like to Make My Code Look Good</a>
      </li>
    
  </ul>
</section>
<div id="fb-root"></div>
<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	    if (d.getElementById(id)) return;
	      js = d.createElement(s); js.id = id;
	        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=295226453878610";
		  fjs.parentNode.insertBefore(js, fjs);
		  }(document, 'script', 'facebook-jssdk'));</script>
	  <div style="text:align:center">
		  <div class="fb-like-box" data-href="https://www.facebook.com/pages/Debug-Release/473369436071930" data-width="250" data-show-faces="true" data-stream="false" data-show-border="true" data-header="false"></div></div>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Deepak Kapoor -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=8878331; 
var sc_invisible=0; 
var sc_security="f0e88835"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="free hit
counters" href="http://statcounter.com/free-hit-counter/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/8878331/0/f0e88835/0/"
alt="free hit counters"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://plus.google.com/105555323627924521684?rel=author">Google Profile</a>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41110156-1', 'debugrelease.com');
  ga('send', 'pageview');

</script>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'debugrelease';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
