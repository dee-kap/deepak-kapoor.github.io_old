
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Keynote for TechEd Australia started a bit slow with too much concentration on words such as innovation, excitement and productivity. Keynote was &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://deepak-kapoor.github.io/blog/page/9">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:deepak-kapoor.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/09/09/teched-australia-day-2/">TechEd Australia Day 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-09T00:00:00+10:00" pubdate data-updated="true">Sep 9<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Keynote for TechEd Australia started a bit slow with too much concentration on words such as innovation, excitement and productivity. Keynote was saved by awesome presentations by Sara Ford and Sarah Vaughan. Rest of the day was fantastic. A combination of excellent topics and superb presentation skills made it a worthy learning day. </p>  <p>The best presentation of the day which I attended was by <a href="http://damianedwards.wordpress.com/">Damian Edwards</a> on ASP.NET MVC. Well structured and full of useful information. ASP.NET MVC is my current focus and that made the presentation even more interesting for me . Well done Damian. </p>  <p>I also attended a talk on BizSpark by <a href="http://blog.rog42.net/">Rog42</a> and <a href="http://blogs.msdn.com/chlong/">Christian Longstaff</a>. Biz Spark is a great program for startups and if you are one then you should definitely look at it. Where else can you get a suite of world class software at $100 which is payable in third year. I’m thinking that I might consider it for my company.</p>  <p>I also enjoyed Sharepoint presentation by <a href="http://blogs.msdn.com/acoat/">Andrew Coates</a> and <a href="http://wss.made4the.net/default.aspx">Jeremy Thake</a>. Their presentation was well synchronised and full of Sharepoint goodness. I’m not too much into Sharepoint but even I picked up points which I could use if god forbid I have to do any Sharepoint work again.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/09/08/teched-australia-day-1/">TechEd Australia Day 1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-08T00:00:00+10:00" pubdate data-updated="true">Sep 8<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some of you may know that author of this site (that’s me in case you are thinking) is attending his first ever TechEd. TechEd to me is like woodstock for developers and other IT people who come in masses for this amazing and full of geek energy event. Over next few posts I will write about my experience of TechEd.</p>  <h3>Day 1</h3>  <p>Technically today was not the first day of TechEd but it was for me. I arrived at Gold Coast after a pleasant 1 point something hour flight. Meeting familiar people at Gold Coast airport who were also headed to TechEd got me into TechEd groove right away. I checked into my hotel which is in front of Convention Centre and the best part is that I can get a panoramic view of Convention Centre from my window. Wasting no time I went straight to Convention Centre for registration and picked up my Netbook, picked up my delegate bag (to be reviewed soon) and headed to exhibition hall where I caught up with <a href="http://www.lobsterpot.com.au">Rob Farley</a> and finally met Deeps. For those who have confused me with <a href="http://blogs.technet.com/user/Profile.aspx?UserID=5777">Deeps</a> I can now logically prove that we are two different people. Exhibition hall was buzzing with activity and you could feel geek vibes all over the place. </p>  <p>I took some pictures which you can view down below. But before you do that I have a WTF to report on. Drums please. WTF for today was found inside delegate bag within HP folder. There is a pamphlet which says HP recommends Vista Business. </p>  <p> Registration booths at TechEd Australia.</p>  <p><a title="IMG_0167 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449713/"><img alt="IMG_0167" src="http://farm3.static.flickr.com/2448/3899449713_9bbc3d5fa2.jpg" width="500" height="375" /></a> </p>  <p> Me holding my HP Netbook. Still in the box.</p>  <p><a title="IMG_0170 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449727/"><img alt="IMG_0170" src="http://farm4.static.flickr.com/3482/3899449727_531daf0111.jpg" width="500" height="375" /></a> </p>  <p> My friend Rob Farley holding my Netbook.</p> <a title="IMG_0168 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449721/"><img alt="IMG_0168" src="http://farm4.static.flickr.com/3520/3899449721_74ce372b78.jpg" width="375" height="500" /></a>   <p> Netbook right out of the box. Not booted yet.</p> <a title="IMG_0172 by deepakkapoor, on Flickr" href="http://www.flickr.com/photos/deepakkapoor/3899449735/"><img alt="IMG_0172" src="http://farm3.static.flickr.com/2525/3899449735_9c5d8e2f1d.jpg" width="375" height="500" /></a>   <p>More tomorrow…</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/09/01/output-to-console-in-windows-forms-application/">Output to Console in Windows Forms Application</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-01T00:00:00+10:00" pubdate data-updated="true">Sep 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content">This post shows you how to output data to a Console in a Windows Forms Application. I use this technique religiously when developing Windows Forms applications. Debugging is much simpler when you can see information on what your application is doing in a Console. Of course the onus is on you as developer to output data which will help you.

In this post I will use a simple Windows Forms application which adds two numbers.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="Windows Forms" src="http://www.debugrelease.com/wp-content/uploads/2009/09/image.png" border="0" alt="Windows Forms" width="300" height="188" />

By default a Windows Forms application does not output to a Console even if you write a Console.Write() or Console.WriteLine(). This shortcoming can be addressed by using Win32 API. In your Windows Forms application you can declare a class which provides a wrapper around Win32 functions.

<pre class="lang:c++ decode:true " >public class Win32
{
  /// &lt;summary&gt;
  /// Allocates a new console for current process.
  /// &lt;/summary&gt;
  [DllImport("kernel32.dll")]
  public static extern Boolean AllocConsole();

  /// &lt;summary&gt;
  /// Frees the console.
  /// &lt;/summary&gt;
  [DllImport("kernel32.dll")]
  public static extern Boolean FreeConsole();
}</pre> 

A Console must be started to accept input and display our messages. This can be done by calling Win32.AllocConsole() function. For my example I will start the console in my form’s constructor.
 
<pre class="lang:c# decode:true " >public Form1()
{
  InitializeComponent();

  Win32.AllocConsole();
}</pre> 

Now when I write to Console, I will see data appear in the console window which was started in my constructor.

 
<pre class="lang:c# decode:true " >private void Add(int num1, int num2)
{
  int result = num1 + num2;

  Console.WriteLine(
    string.Format("{0} + {1} = {2}", num1, num2, result));
}</pre> 


<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="Console" src="http://www.debugrelease.com/wp-content/uploads/2009/09/image1.png" border="0" alt="Console" width="419" height="189" />

As a good practice you should also close the console window by calling Win32.FreeConsole() method before your application exits.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/26/adonet-data-services-logical-operators/">ADO.NET Data Services Logical Operators</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-26T00:00:00+10:00" pubdate data-updated="true">Aug 26<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this post we will look at Logical Operators in ADO.NET Data Services. These operators can be used as filter expressions in our requests and ADO.NET Data Services applies the filter before results are returned. We will use Data Services generated over Adventureworks Lite database. If you are new to ADO.NET Data Services and would like to know how to generate ADO.NET Data Service then please see this <a href="http://www.debugrelease.com/adonet-data-services-tutorial-with-aspnet/">article</a>.</p>  <p>One thing to keep in mind is that filter expressions are case sensitive. And the syntax of applying filters in ADO.NET Data Services is</p>  <p><font color="#008000">&lt;url&gt;?$filter=&lt;your filter&gt;</font></p>  <p>Let’s now look at all logical operators</p>  <h3>Equal To</h3>  <p><font color="#008000">Parameter: eq</font></p>  <p>Equal To evaluates true when both operands have the same value. Here I am retrieving products where the value of Color matches “Yellow”.</p>  <p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=Color eq &#8216;Yellow&#8217;</font></p>  <p>Logical operator can also be applied in code through a LINQ query. </p>  

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.Color == "Yellow"
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.Color);
}</pre> 


<h3>Not Equal To</h3>
<font color="#008000"></font>

<p><font color="#008000">Parameter: ne</font></p>

<p>Not equal is opposite of equal to and evaluates true when both operands do not have the same value. Here I am retrieving products where the value of Color is NOT “Yellow”.</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=Color ne &#8216;Yellow&#8217;</font></p>

<p>Following code will also achieve the same result through a LINQ query.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.Color != "Yellow"
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.Color);
}</pre> 


<h3>Less than</h3>

<p><font color="#008000">Parameter: lt</font></p>

<p>Less than evaluates true when first operand is less than second. In this example I get all products where ListPrice is less than 20.</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice lt 20</font></p>

<p>Here is the C# version of Less than operator.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.ListPrice &lt; 20
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>Less than or equal to</h3>

<p><font color="#008000">Parameter: le</font></p>

<p>Less than or equal to evaluates true when first operand is either less than or equal to second operand. In this example I am retrieving all products where ListPrice is less than or equal to 9.5</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice le 9.5</font></p>

<p>And C# equivalent will look like this.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.ListPrice &lt;= 9.5m
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>Greater than</h3>

<p><font color="#008000">Parameter: gt</font></p>

<p>Greater than evaluates true if the first operand is greater than the second. In this example I am retrieving all products where ListPrice is greater than 9.5</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice gt 9.5</font></p>

<p>Greater than is a no brainer with a LINQ query.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  here p.ListPrice &gt; 9.5m
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>Greater than or equal to</h3>

<p><font color="#008000">Parameter: ge</font></p>

<p>Greater than or equal to evaluates true if the first operand is greater than or equal to second. Here is&#160; an example. I am retrieving all products where ListPrice is greater than or equal to 9.5</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=ListPrice ge 9.5</font></p>

<p>C# example</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where p.ListPrice &gt;= 9.5m
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.ProductID + "t" + item.ListPrice);
}</pre> 


<h3>And</h3>

<p><font color="#008000">Parameter: and</font></p>

<p>“And” evaluates true when both operands are true. In this example I am retrieving all products where the Color is Black and ListPrice is greater than 1000.</p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=(Color eq &#8216;Black&#8217;) and (ListPrice gt 1000)</font></p>

<p>Same results can be retrieved in C# with this code.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where (p.Color == "Black") 
    &amp;&amp; (p.ListPrice &gt; 1000)
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.Color + "t" + item.ListPrice);
}</pre> 


<h3>Or</h3>

<p><font color="#008000">Parameter: or</font></p>

<p>“Or” evaluates true when either operand is true. In this example I am retrieving all products where either the Color is Black or ListPrice is greater than 1000.</p>

<p><a href="http://localhost:6803/DataService.svc/Product?"><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?</font></a><font color="#800000" size="3">$filter=(Color eq &#8216;Black&#8217;) or (ListPrice gt 1000)</font></p>

<p>Now with C#.</p>

 
<pre class="lang:c# decode:true " >AdventureWorksEntities context = new AdventureWorksEntities(uri);
DataServiceQuery&lt;Product&gt; products = context.CreateQuery&lt;Product&gt;(@"/Product");

var query = from p in products
  where (p.Color == "Black")
    || (p.ListPrice &gt; 1000)
  select p;

foreach (var item in query)
{
  Console.WriteLine(item.Color + "t" + item.ListPrice);
}</pre> 


<h3>Not</h3>

<p><font color="#008000">Parameter: not</font></p>

<p>“Not” evaluates true if operand is false. An example can be retrieving all products where the Color is not Black. </p>

<p><font color="#800000" size="3">http://localhost:6803/DataService.svc/Product?$filter=not (Color eq &#8216;Black&#8217;)</font></p>

<p>While this can be achieved using not equal to operator they are not the same. I’ll leave C# code for this one for you :)</p>

<p>&#160;</p>

<h3>Conclusion</h3>

<p>This article demonstrated all logical operators available for ADO.NET Data Services. In a future post I will cover other types of operators for ADO.NET Data Services. </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/16/execute-stored-procedure-with-adonet-data-services/">Execute Stored Procedure With ADO.NET Data Services</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-16T00:00:00+10:00" pubdate data-updated="true">Aug 16<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction</h3>
In an <a href="http://www.debugrelease.com/adonet-data-services-tutorial-with-aspnet/">earlier article</a> I looked at how DO.NET Data Services can be used with ASP.NET. In this post I will talk about using ADO.NET Data Services to retrieve data via SQL Server stored procedure. Doing this is simple and I will follow a similar approach to hook everything up as I did in my <a href="http://www.debugrelease.com/adonet-data-services-tutorial-with-aspnet/">earlier post</a>.

I have created a stored procedure which retrieves data from Employees table in Northwind database based on city name. Here is the script I used to create the procedure.

<pre class="lang:tsql decode:true " >
CREATE PROCEDURE [dbo].[GetEmployeesByCity] 
    @City NVARCHAR(15)
AS

BEGIN

    SELECT *
    FROM Employees
    WHERE City = @City

END
</pre>

<h3>Creating Data Model</h3>
ADO.NET Data Services sits between the client and a data source, so the first thing I’ll need is a data source. I will use Entity Framework to create my data source.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image13.png" border="0" alt="image" width="544" height="427" />

To make things simple I will select Employees table only for my Entity Data Model.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image14.png" border="0" alt="image" width="544" height="483" />
<h3>Mapping Stored Procedure in EDM</h3>
My objective here is to retrieve data from a stored procedure. To this I need to expose the procedure through my data layer which I have created using Entity Framework. Mapping a stored procedure in Entity Framework can be done by following these steps.

Open Model Browser (View –&gt; Other Windows –&gt; Model Browser). Right click on Stored Prodecures under NorthwindModel.Store and click Update Model from Database.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image6.png" border="0" alt="image" width="380" height="208" />

Select the stored procedure (GetEmployeesByCity in this case) and click Finish.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image7.png" border="0" alt="image" width="307" height="309" />

Go back to Model Browser and under stored procedure right click the stored procedure and click Create Function Import.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image8.png" border="0" alt="image" width="411" height="250" />

Select Employees entity as the return type and click OK.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image9.png" border="0" alt="image" width="399" height="291" />

Entity Model is now setup to execute the stored procedure and return results. It can be called like this.
 
<pre class="lang:c# decode:true " >NorthwindEntities entities = new NorthwindEntities();
var employees = entities.GetEmployeesByCity("London");</pre> 

My goal however is to retrieve data via ADO.NET Data Services so I’ll start creating my service.
<h3>And Now With a Service</h3>
Because I’d like to access this data through my ADO.NET Data Service so the first thing I’ll do is create a service called NorthwindEmployeeService. I will add a new item to my project of type ADO.NET Data Service.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image10.png" border="0" alt="image" width="540" height="400" />

Visual Studio creates a blank service with some scaffolding for me to get started. First thing I need to do is let my service know about my data source class and then configure appropriate rights to my entities and operations. To be simple I will just allow everything. Below is the code for my service after making changes.

 
<pre class="lang:c# decode:true " >public class NorthwindEmployeeService : DataService&lt;NorthwindEntities&gt;
{
  // This method is called only once to initialize service-wide policies.
  public static void InitializeService(IDataServiceConfiguration config)
  {
    config.SetEntitySetAccessRule("*", EntitySetRights.AllRead);
    config.SetServiceOperationAccessRule("*", ServiceOperationRights.All);
  }
}</pre> 


By default my service does not know that it should also work with a stored procedure. To do this i can write a method which will execute the procedure and return results. Such a method can look like this.

 
<pre class="lang:c# decode:true " >[WebGet]
public ObjectResult&lt;Employees&gt; GetEmployeesByCity(string cityName)
{
  NorthwindEntities entities = new NorthwindEntities();
  return entities.GetEmployeesByCity(cityName);
}</pre> 


Method above tells the service to expose a GetEmployeesByCity method which can be called by clients. Note that the method is decorated with a WebGet attribute which indicates that this is a GET method which can be called by a web client.
<h3>Running Service and Calling Stored Procedure</h3>
To see my service in action I can hit F5

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image11.png" border="0" alt="image" width="540" height="500" />

To see the results from the stored procedure I can use the following URL.

<span style="color: #800000; font-size: x-small;">http://localhost:16147/NorthwindEmployeeService.svc/GetEmployeesByCity?cityName=&#8217;London&#8217;</span>

Here I am passing in the parameter as a query string which is accepted by my service and appropriate results are returned.

<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image12.png" border="0" alt="image" width="539" height="645" />
<h3>Conclusion</h3>
In this article I used ADO.NET Data Services to execute a stored procedure and return results. I am not in favour of implementing a direct mapping between services and database and the design can be a little better whereby data layer can be sensibly abstracted away by service. However the idea was to demonstrate a concept. I hope you enjoyed reading this article.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/14/windows-azure-sample-application-riviera/">Windows Azure Sample Application Riviera</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-14T00:00:00+10:00" pubdate data-updated="true">Aug 14<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Riviera is a sample application for Windows Azure available on MSDN Code Gallery for download. Riviera has been developed by Platform Evangelism group in collaboration with <a href="http://www.cumulux.com/">Cumulx</a> who are a Cloud ISV partner. Key features of Riviera are:</p>  <ul>   <li>Multi-tenant data store based on Azure Table Storage as well as SQL Azure.</li>    <li>Per tenant customization of data model</li>    <li>Per tenant customization of business logic (using Windows Workflow in Windows Azure)</li>    <li>Per tenant customization of user interface using Silverlight 3.0. Customization can be multi-level – custom theme, custom XAML, and custom XAP.</li>    <li>Automated tenant provisioning</li>    <li>Windows Azure web role-&gt;Azure Queue-&gt;worker role pattern for high volume transaction processing that can scale on demand</li>    <li>Claims aware web service and web application using Geneva Framework</li>    <li>Active and Passive Federation using Geneva Framework, Geneva Server and .NET Access Control Service (ACS)</li>    <li>Windows Live ID authentication for consumer facing web site</li>    <li>Use of Patterns &amp; Practices Enterprise Library Caching and Logging application blocks in Windows Azure</li> </ul>  <p>&#160;</p>  <p>As you can see from the list above that Riviera uses many features of Azure. This makes it an excellent sample to learn from. Assuming that Windows Azure is not too far from RTM, developers should start sharpening their Cloud Computing skills. </p>  <p><a href="http://code.msdn.microsoft.com/riviera">Link To Riviera home page</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/05/pdc-2009-registration-is-open/">PDC 2009 Registration Is Open</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-05T00:00:00+10:00" pubdate data-updated="true">Aug 5<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Microsoft PDC 2009 site is now accepting registrations. PDC 2009 will run from 17th November to 19th November 2009 at Los Angeles Convention Center Los Angeles. Here is pricing information from <a href="http://microsoftpdc.com/Registration">PDC website</a>.</p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/08/image.png" width="315" height="289" /> </p>  <p>I think in or around PDC 2009 we should see commercial launch of Azure, Visual Studio 2010, .NET Framework 4.0 and maybe even Oslo.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/28/adonet-data-services-tutorial-with-aspnet/">ADO.NET Data Services With ASP.NET</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-28T00:00:00+10:00" pubdate data-updated="true">Jul 28<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction</h3>
In this tutorial we will look at how ADO.NET Data Services can be used to create services which are consumed by ASP.NET client. We will use Adventure works Lite database as an example to demonstrate the concepts. Code for this article can be downloaded at the bottom of the article.

ADO.NET Data Services as the name says is a services layer between your application and an underlying data source. It uses REST principals to access and persist information to and from the data source. Services layer itself can be created very easily. Most of the work is done by  Visual Studio for you.

In this tutorial we will build an application for AdventureWorks Lite database. We will build a page which let’s a user browse through products. The reason for picking up AdventureWorks Lite as an example is so that we can work with a variety of data including images. If you do not have AdventureWorks Lite then you can download it <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=SqlServerSamples">here</a>. For our application we will work with this data model

<img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image46.png" border="0" alt="image" width="540" height="406" />
<h3>Creating Service</h3>
Creating a ADO.NET Data Service in Visual Studio is a no brainer. All we need to do is add a new item of type ADO.NET Data Service, give it an appropriate name and we are done.

<img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image47.png" border="0" alt="image" width="540" height="432" />

Our ADO.NET Service will interact with some kind of data source and Entity Framework perfectly fits that purpose. We now need to create a EDM (Entity Data Model) which includes tables we want to interact with via our services. If you never worked with Entity Framework then <a href="http://msdn.microsoft.com/en-us/library/bb399182.aspx">this quickstart</a> will get you going.

By creating a service and our Entity Data Model we have put together two major components of our solution. Before we can hit F5 to see our service running, there are few things we need to put in place. We must tell our service that there is a Data Layer that we want it to use. Now all ADO.NET Data Services inherit from DataService&lt;T&gt; which can be found in System.Data.Services namespace. The code produced by Visual Studio for our service leaves a placeholder for &lt;T&gt; with a comment. All we need to do is specify the correct type. Our class declaration for our service should look like this.
 
<pre class="lang:c# decode:true " >public class AdventureWorksService : DataService&lt;AdventureWorksEntities&gt;</pre> 

Here we have established integration between our service and our data source. Next thing we need to do is configure appropriate access levels for our service and its operations. Code below when executed initializes our service to have all possible access over all entities defined in our EDM and all access over all operations. Note the asterix, basically we are saying here that include all Entity Sets and all operations.
 
<pre class="lang:c# decode:true " >public static void InitializeService(IDataServiceConfiguration config)
{
  config.SetEntitySetAccessRule("*", EntitySetRights.All);
  config.SetServiceOperationAccessRule("*", ServiceOperationRights.All);
}</pre> 

We are now ready to go and hit F5. If we set AdventureWorksService.svc as a start page and run our project we can see our service running. Now that we have our service running, we will start building our ASP.NET pages which will query our service, receive and display data.

<img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image48.png" border="0" alt="image" width="540" height="597" />
<h3>Creating Proxy Objects</h3>
Our ASP.NET application will need to access the service through a proxy. Creating a proxy is very easy. After making sure that our service is running, we need to add a service reference to our serivce. This can be done this way.

<img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image49.png" border="0" alt="image" width="540" height="434" />

It is also a good idea to change the Namespace from ServiceReference1 to AdventureWorksService.
<h3>Creating Web Page To Display Data</h3>
We can now make calls to our service and retrieve data. First thing we need to do is load data from ProductCategory and bind it to a dropdown. But before that let’s have a look at what we will produce.

<img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image50.png" border="0" alt="image" width="540" height="521" />

Getting back to binding our dropdown control. We should write a query which calls our service which in turns fetches data from database and delivers to us. One good thing about ADO.NET Data Services is that you can write LINQ queries with it. ADO.NET Data Services comes with a LINQ provider popularly known as LINQ To REST.  Without LINQ support ADO.NET Data Services will be just too complicated and IMO useless. However LINQ support is limited. Here are things you cannot do:
<ol>
	<li>You cannot write queries which involve joins or sub queries.</li>
	<li>You cannot create anonymous types in your queries.</li>
	<li>Aggregates such as Count, Min, Max are not available.</li>
	<li>There is no GroupBy support available.</li>
</ol>
Besides the list of can’t do above, LINQ To REST still makes working with ADO.NET Data Services much easier than otherwise. Following code will make a service call and bind our drop down.
 
<pre class="lang:c# decode:true " >private void BindProductCategories()
{
  DataServiceQuery&lt;ProductCategory&gt; productCategories =
    context.CreateQuery&lt;ProductCategory&gt;("/ProductCategory");

  var query = from p in productCategories
    orderby p.Name
    select p;

  ddlProductCategory.DataSource = query;
  ddlProductCategory.DataBind();
}</pre> 

We’d also like to refresh data in our grid when the user selects another category. This is done by BindProductsGrid method.

 
<pre class="lang:c# decode:true " >private void BindProductsGrid()
{
  int productCategoryID = Convert.ToInt32(ddlProductCategory.SelectedValue);

  DataServiceQuery&lt;Product&gt; products =
    context.CreateQuery&lt;Product&gt;("/Product");

  var query = from p in products
    where p.ProductCategory.ProductCategoryID == productCategoryID
    select p;

  gdvProducts.DataSource = query;
  gdvProducts.DataBind();
}</pre> 


The way I bind the image is by using another page which just does Response.BinaryWrite.  Here is the markup of default.aspx page which is the entire UI. You can play with it by downloading the entire solution. The markup is here just to make the post look good ;)

 
<pre class="lang:xhtml decode:true " >&lt;form id="form1" runat="server"&gt;
  &lt;div&gt;
    &lt;div&gt;
      Product Category
      &lt;asp:DropDownList ID="ddlProductCategory" runat="server"
        DataValueField="ProductCategoryID"
        AutoPostBack="true"
        DataTextField="Name"
        OnSelectedIndexChanged="ddlProductCategory_SelectedIndexChanged"&gt;
      &lt;/asp:DropDownList&gt;
    &lt;/div&gt;
    &lt;br /&gt;
    Products
    &lt;br /&gt;
    &lt;div&gt;
      &lt;asp:GridView ID="gdvProducts" runat="server"
        CssClass="sample"
        Width="600px"
        AutoGenerateColumns="false"
        OnRowCreated="gdvProducts_RowCreated"&gt;
        &lt;Columns&gt;
          &lt;asp:BoundField DataField="ProductNumber" HeaderText="Number" /&gt;
          &lt;asp:BoundField DataField="Name" HeaderText="Name" /&gt;
          &lt;asp:TemplateField&gt;
            &lt;ItemTemplate&gt;
              &lt;asp:Image ID="Image1" runat="server" ImageUrl='ImageHelper.aspx' /&gt;
            &lt;/ItemTemplate&gt;
          &lt;/asp:TemplateField&gt;
        &lt;/Columns&gt;
      &lt;/asp:GridView&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/form&gt;</pre> 


<h3>Conclusion</h3>
This was a brief introduction to ADO.NET Data Services. We looked at how to create a service and consume it in a ASP.NET website. We also looked at some limitations of LINQ provider used by ADO.NET Data Services. In future posts I will talk about other features of ADO.NET Data Services.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/27/10-ways-to-bing-it/">10 Ways to Bing It!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-27T00:00:00+10:00" pubdate data-updated="true">Jul 27<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve been using Bing as my main search engine for sometime and I’m very happy with it. Within that plain search box lies a lot of power and many ways to search for information. Here I am sharing some of the ways I use Bing on daily bases. You may find these interesting and see that there is more to Bing than just plain old web search. </p>  <h3>1. Search For Weather</h3>  <p>Just type in the city name followed by forecast</p>  <p><font color="#0000ff">sydney forecast</font></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image36.png" width="460" height="144" /> </p>  <h3>2. Get Search Results returned in RSS format</h3>  <p>Bing can return your results in RSS format. In this example I am searching for “Best Search Engine” and I want my results in RSS format. I can then subscribe to the feed in my feed reader and keep an eye on when search results are updated.</p>  <p><a title="http://www.bing.com/search?q=best+search+engine&amp;format=rss" href="http://www.bing.com/search?q=best+search+engine&amp;format=rss">http://www.bing.com/search?q=best+search+engine&amp;format=rss</a></p>  <p>&#160;<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image37.png" width="540" height="430" /> </p>  <h3>3. Search Within A Website</h3>  <p>With Bing you can search for content on a particular website. For example here I am searching for “Silverilght” on One .NET Way.</p>  <p><font color="#0000ff">site:thereforesystems.com silverlight</font></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image38.png" width="540" height="430" /> </p>  <h3>4. Exclude a website from your search</h3>  <p>Following search for Silverlight will exclude results from One .NET Way</p>  <p><font color="#0000ff">-site:thereforesystems.com silverlight</font></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image39.png" width="540" height="430" /> </p>  <h3>5. Celebrity Search</h3>  <p>Bing has a feature called xRank which keeps track of search volume on celebrities. You can also compare Bing popularity of celebrities. Here I am comparing popularity of Michael Jackson with Jet Li. xRank can be accessed at <a href="http://www.Bing.com/xRank">http://www.Bing.com/xRank</a></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image40.png" width="540" height="398" /> </p>  <h3>6. Bing Without Background Image</h3>  <p>Bing home page by default displays a background image. Here is a sample:</p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image41.png" width="540" height="459" /> </p>  <p>If you don’t want to see the background (and why not?), you can turn it off by going to this address.</p>  <p><a title="http://www.bing.com/?rb=0" href="http://www.bing.com/?rb=0">http://www.bing.com/?rb=0</a></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image42.png" width="540" height="459" /> </p>  <h3>7. Search Where results lead to File Type</h3>  <p>A site can be searched for all links which further have links to specified file type. For example here I am searching Codeplex and I’d like to see results where I can find pdf files.</p>  <p><font color="#0000ff">codeplex contains:pdf</font></p>  <h3>8. Search For Flight Information</h3>  <p>Bing also returns real-time flight information. Following text when typed into Bing search box return information for United flight 660</p>  <p><font color="#0000ff">flight info united 660</font></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image43.png" width="416" height="265" /> </p>  <h3>9. Search within a country</h3>  <p>You can specify a location for your search. Here I am searching for Bill Gates and I want search results from India.</p>  <p><font color="#0000ff">Bill Gates loc:IN</font></p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image44.png" width="540" height="436" /> </p>  <h3>10. Use Bing as a Dictionary</h3>  <p>You can definition of any word by simply typing define and then the word. Example</p>  <p><font color="#0000ff">define cyberspace</font></p>  <p>&#160;<img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image45.png" width="539" height="242" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/23/windows-7-goes-rtm-release-to-manufacturing/">Windows 7 Goes RTM (Release to Manufacturing)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-23T00:00:00+10:00" pubdate data-updated="true">Jul 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>&#160;<img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="http://www.debugrelease.com/wp-content/uploads/2009/07/image34.png" width="240" height="151" />Much awaited Windows 7 went RTM today. Microsoft’s new Operating System is scheduled to be available to available to public around October 22. MSDN and TechNet subscribers will be able to download Windows 7 in next few weeks, most likely around August 6. Comparing to release of Vista this looks much more well executed. Windows 7 has received more positive press than any other OS by Microsoft. This in my opinion is how expectations were managed. Rather than coming out with hyped up features which never made it to the product (read WinFS) Windows 7 managed communication to the best. </p>  <p>I’m starting the countdown to when I can download Windows 7.</p>  <p>You can read more about it on <a href="http://www.microsoft.com/Presspass/press/2009/jul09/07-22Windows7RTMPR.mspx">Microsoft Press Pass site</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/31/linux-set-wireless-bit-rate-permanently-on-ubuntu-or-linux-mint/">Linux - Set Wireless Bit Rate Permanently on Ubuntu or Linux Mint</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/31/android-expandablelistview-tutorial/">Android - ExpandableListView Tutorial</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/28/linux-install-handbrake-on-linux-mint-15/">Linux - Install Handbrake on Linux Mint 15</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/26/linux-virtualbox-windows-host-share-in-ubuntu-guest/">Linux VirtualBox - Windows Host Share in Ubuntu Guest</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/25/linux-setgid-on-directory-and-share-directory-with-users/">Linux - Setgid on Directory and Share Directory With Users</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
