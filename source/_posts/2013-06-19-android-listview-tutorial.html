---
layout: post
title: Android - ListView Tutorial
categories: []
tags:
- Android
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  simplecatch-sidebarlayout: default
  _oembed_e38afa0a2c655cefa35b6e0da980c43b: ! '{{unknown}}'
---
<p>In this post I will talk about one of the most useful and commonly used widgets in Android. That widget is ListView. Whenever there is a list of things to be presented for example tweets from Twitter or entries from a RSS feed, ListView comes in handy.</p>
<h3>Setting up the project</h3>
<p>My preferred IDE for Android development is <a href="http://www.jetbrains.com/idea/free_java_ide.html">IntelliJ Community Edition</a> and I will use it for this tutorial. If you have not used it then you should have a look. It beats the bytes out of Eclipse any day.</p>
<p>I will create a project of type Application Module and call it ListViewTutorial. </p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" title="AndroidListViewTutorial1.gif" src="http://www.deepakkapoor.net/wp-content/uploads/2013/06/AndroidListViewTutorial1.gif" alt="AndroidListViewTutorial1" width="600" height="580" border="0" /></p>
<p> </p>
<h3>Displaying Lakes</h3>
<p>The app written in this tutorial will display names of some of the biggest lakes in the world. The names will be displayed in a ListView widget.</p>
<p>This is what our final app will look like</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" title="AndroidListViewTutorial3.gif" src="http://www.deepakkapoor.net/wp-content/uploads/2013/06/AndroidListViewTutorial3.gif" alt="AndroidListViewTutorial3" width="518" height="600" border="0" /></p>
<p> </p>
<h3>Creating Layout</h3>
<p>In the layout I will use the ListView widget. ListView is part of Android framework and it can be used straight out of the box. I will place the ListView inside my LinearLayout. Along with layout_width, layout_height and layout_gravity, I will also assign an id to my ListView so that I can reference it in code and hook it up with my list of lakes.</p>
 
<pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:orientation="vertical"
              android:layout_width="fill_parent"
              android:layout_height="fill_parent"&gt;
    &lt;ListView
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:id="@+id/listView"
            android:layout_gravity="center"/&gt;
&lt;/LinearLayout&gt;</pre> 

<h3>Activity</h3>
<p>The app only has one activity which I called MainActivity. Within this activity I will write code which will tie it all together. First of all I will create an array of lakes.</p>

<pre class="prettyprint lang-java" >private static final String[] lakes = {
            "Superior",
            "Victoria",
            "Huron",
            "Michigan",
            "Tanganyika",
            "Baikal",
            "Great Bear Lake",
            "Great Slave Lake",
            "Erie",
            "Winnipeg",
            "Ontario",
            "Balkhash",
            "Ladoga",
            "Vostok",
            "Onega",
            "Titicaca",
            "Nicaragua",
            "Athabasca" };</pre> 

<p>Next in the overridden onCreate method I will get a reference to the ListView I created earlier in my layout.</p>
<pre class="prettyprint lang-java" >ListView listView = (ListView)findViewById(R.id.listView);</pre>
<h4>Adapter</h4>
<p>To populate a ListView widget I need an Adapter. There are a few adapters available in Android framework. These are ArrayAdapter, CursorAdapter, ResourceCusrorAdapter, SimpleAdapter and SimpleCursorAdapter. For my app ArrayAdapter is adequate. </p>
<p>I will create an instance of ArrayAdaper and pass some parameters into the constructor.</p>
 
<pre class="prettyprint lang-java" >
ArrayAdapter&lt;String&gt; adapter =
    new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1, lakes);
</pre> 

<p>Let's look the parameters I have passed in. The first parameter is Context which in this case is the Activity I am working with, so I pass this. Second parameter is textViewResourceId. This is the view which is used to render each cell item of the ListView. You can look at the xml for this resource by browsing res directory in the sdk. This is what the xml for simple_list_item_1 looks like:</p>

 
<pre class="prettyprint lang-xml" >&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- Copyright (C) 2006 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at
  
          http://www.apache.org/licenses/LICENSE-2.0
  
     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
--&gt;

&lt;TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/text1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearanceListItemSmall"
    android:gravity="center_vertical"
    android:paddingStart="?android:attr/listPreferredItemPaddingStart"
    android:paddingEnd="?android:attr/listPreferredItemPaddingEnd"
    android:minHeight="?android:attr/listPreferredItemHeightSmall"
/&gt;</pre> 


<p>The last parameter is a generic array of objects which are to be displayed in ListView. Each cell will display what it gets from calling toString() method on an item within the array. I have assigned as String array of lakes for this paramet</p>
<h3>The end</h3>
<p>And that's about it. I now have a ListView which displays a list of some of the largest lakes in the world. Here is the full code for MainActivity class.</p>
 
<pre class="prettyprint lang-java" >package com.debugrelease.android.listviewtutorial;

import android.app.Activity;
import android.os.Bundle;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class MainActivity extends Activity {

    private static final String[] lakes = {
            "Superior",
            "Victoria",
            "Huron",
            "Michigan",
            "Tanganyika",
            "Baikal",
            "Great Bear Lake",
            "Great Slave Lake",
            "Erie",
            "Winnipeg",
            "Ontario",
            "Balkhash",
            "Ladoga",
            "Vostok",
            "Onega",
            "Titicaca",
            "Nicaragua",
            "Athabasca" };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        ListView listView = (ListView)findViewById(R.id.listView);
        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1, lakes);
        listView.setAdapter(adapter);

    }
}</pre> 

<p>You can find the code for this post in my <a href="https://github.com/deepak-kapoor/debug-release-android-samples">Github repository</a> where I keep all my Android samples. Within the repository, look for the folder named ListViewTutorial.</p>
