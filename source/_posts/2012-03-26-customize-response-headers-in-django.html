---
layout: post
title: Customize Response Headers in Django
categories:
- Django
- Python
tags:
- Django
- Python
status: publish
type: post
published: true
meta:
  _wpas_done_all: '1'
  views: '1507'
  _edit_last: '1'
  _wp_old_slug: customizing-response-headers-in-django
  _syntaxhighlighter_encoded: '1'
  _wp_rp_extracted_image_url: http://www.debugrelease.com/wp-content/uploads/2013/04/image11-150x150.jpg
  _wp_rp_extracted_image_url_full: http://www.debugrelease.com/wp-content/uploads/2013/04/image11.png
  wpzoom_is_featured: ''
  wpzoom_is_carousel: ''
  wpzoom_show_media: ''
  wpzoom_post_template: ''
  wpzoom_post_embed_code: ''
  simplecatch-sidebarlayout: ''
---
<p>Django makes it as easy as it can be to work with Response Headers. These headers in case you did not know are sent to the browser along with the response to a request. You can customize values for existing headers and also add new headers. In this example we will look at how easily it is done in Django. </p> <p>We will use a simple example of a page which displays current server date and time. The output of the page does not matter for this example because we are focusing on Response Headers here. Our example page is served by this view:</p>
 
<pre class="lang:python decode:true " >
def current_datetime(request):
    now = datetime.datetime.now()
    t = get_template('current_datetime.html')
    c = Context({'current_date': now})
    r = HttpResponse(t.render(c))
    return r
</pre> 

<p>By default Django will send <strong>Content-Type</strong>, <strong>Date</strong> and <strong>Server</strong> response headers to the browser as seen in the screenshot below. </p>
<p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Default Response Headers from Django" border="0" alt="Default Response Headers from Django" src="http://www.debugrelease.com/wp-content/uploads/2012/03/image1.png" width="644" height="370"></p>
<p>Let’s say that we want to modify the value for Server header. You know, to feel the false satisfaction of making it hard for hackers to find out the technology stack used by our website. Besides the sarcasm, it can be done by modifying our view like this:</p>

<pre class="lang:python decode:true " >def current_datetime(request):
    now = datetime.datetime.now()
    t = get_template('current_datetime.html')
    c = Context({'current_date': now})
    r = HttpResponse(t.render(c))
    r['Server'] = 'Served by 3cpo'
    return r
</pre>

<p>Each view in Django returns a HttpResponse and we can work with it as we would work with a dictionary. We can see that the value for Server response header has been changed to ‘Served by 3cpo’.</p>
<p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="Server Header Served by Django" border="0" alt="Server Header Served by Django" src="http://www.debugrelease.com/wp-content/uploads/2012/03/image2.png" width="638" height="362"></p>
<p>Adding a new header is also simple. It is done by adding a new element to HttpResponse we send back. As shown here.</p>

<pre class="lang:python decode:true " >def current_datetime(request):
    now = datetime.datetime.now()
    t = get_template('current_datetime.html')
    c = Context({'current_date': now})
    r = HttpResponse(t.render(c))
    r['Server'] = 'Served by 3cpo'
    r['x-powered-by'] = 'my Linux server'
    return r
</pre>

<p>We have just included a new response header ‘x-powered-by’ which is set to ‘my Linux server’.</p>
<p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="Adding new Response Header in Django" border="0" alt="Adding new Response Header in Django" src="http://www.debugrelease.com/wp-content/uploads/2012/03/image7.png" width="641" height="373"></p>
<p>Simple enough, right? Well, this is what I like about Django and its batteries included approach.</p>
