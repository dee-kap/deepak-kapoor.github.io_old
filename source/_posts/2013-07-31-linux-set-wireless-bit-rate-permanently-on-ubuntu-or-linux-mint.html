---
layout: post
title: Linux - Set wireless bit rate permanently on Ubuntu or Linux Mint
categories:
- Linux
tags: []
status: publish
type: post
comments: true
published: true
meta:
  _edit_last: '1'
  simplecatch-sidebarlayout: default
---
    <p>Recently I moved my desktop from the home office to another room. Due to this move I lost access to wired LAN and had to install a wireless adapter in my desktop. The adapter I am using is <a href="http://www.tp-link.com/en/products/details/?model=TL-WN781ND">TP-Link 150Mbps Wireless N PCI Express Adapter</a>. I noticed slow network speed ever since I connected to wireless on my desktop. I understand that there is a difference between wired and wireless connection, but I didn't expect the wireless to be so slow. After some investigation, I found that the real culprit was the bit rate for my wireless adapter. I resolved the speed issue by setting the bit rate to 54Mbps. In this post I will show you how to do that.</p>
    <p>
        Check the current bit rate
    </p>
    
<pre class="prettyprint" lang="bash">
$ iwconfig

eth0      no wireless extensions.

lo        no wireless extensions.

wlan0     IEEE 802.11bgn  ESSID:"Gibberish"  
          Mode:Managed  Frequency:2.452 GHz  Access Point: 00:00:00:00:EE:EE   
          Bit Rate=11 Mb/s   Tx-Power=20 dBm   
          Retry  long limit:7   RTS thr:off   Fragment thr:off
          Power Management:off
          Link Quality=37/70  Signal level=-73 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:2  Invalid misc:73   Missed beacon:0</pre>

    <p>
        The output above shows that the bit rate is set to 11Mb/s. To change it, execute this command.
    </p>

    <pre class="prettyprint" lang="bash">$ sudo iwconfig wlan0 rate 54M</pre>

    <p>
        The command will set the bit rate to be 54Mbps. This can be verified by executing <code>iwconfig</code> again
    </p>
<pre class="prettyprint" lang="bash">
$ iwconfig

eth0      no wireless extensions.

lo        no wireless extensions.

wlan0     IEEE 802.11bgn  ESSID:"Gibberish"  
          Mode:Managed  Frequency:2.452 GHz  Access Point: 00:00:00:00:EE:EE   
          Bit Rate=54 Mb/s   Tx-Power=20 dBm   
          Retry  long limit:7   RTS thr:off   Fragment thr:off
          Power Management:off
          Link Quality=45/70  Signal level=-65 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:9  Invalid misc:120   Missed beacon:0</pre>

<p>Now the bit rate is 54Mbps.<p>

    <p>
        To make this change permanent, we have to create a script in <strong>/etc/network/if-up.d</strong> directory. All the scripts in this directory are executed when network interfaces are coming up. The script can be called anything. I decided to call it <i>speedup</i> but you can name it anything you like. Below is the script which changes bit rate for wireless adapter wlan0 to 54Mbps.
    </p>

<pre class="prettyprint" lang="bash">
#!/bin/bash -e

if [ "$IFACE" = "wlan0" ] 
then
  iwconfig wlan0 rate 54M
fi
</pre>
  <p>
        The -e option in the script instructs an exit if there is an error.
    </p>

    <p>
        Also make the script executable with this command
    </p>

<pre class="prettyprint" lang="bash">
$ sudo chmod 755 /etc/network/if-up.d/speedup</pre>
<p>
And that's it. The bit rate from now will always be 54Mbps.
</p>
